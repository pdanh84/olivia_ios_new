<ion-header class="flightpage-header" *ngIf="enableheader">
  <div no-padding>
    <ion-row>
      <ion-col class="col-header">
        <div class="d-flex">
          <div class="div-goback" style="margin-left: -2px" (click)="goback()">
            <img class="header-img-back" src="./assets/imgs/ios-arrow-round-back.svg">
          </div>
          <div class="div-header-title">
            <div class="div-title">{{trip.booking_id}}</div>
          </div>
        </div>
      </ion-col>
    </ion-row>
    <!-- <ion-row *ngIf="loginuser" class="row-header-segment">
      <ion-segment [(ngModel)]="tabtrip" class="div-segment" mode="md">
        <ion-segment-button (click)="SelectNextTrip()" mode="md" class="cls-seg-button" value="nexttrip">
          Chuyến đi sắp tới
        </ion-segment-button>

        <ion-segment-button (click)="SelectHistoryTrip()" mode="md" class="cls-seg-button" value="historytrip">
          Lịch sử chuyến đi
        </ion-segment-button>
      </ion-segment>

    </ion-row> -->
  </div>
</ion-header>

<ion-content #scrollArea class="mytrip-detail-content" [scrollEvents]="true">
  <div class="card-background-page-mytrips">
    <div *ngIf="(!trip.isRequestTrip && !trip.isFlyBooking)" class="m-l-8">
      <!-- <div class="div-delivery_payment" *ngIf="trip.payment_status == 0 && trip.deliveryPaymentDisplay">Quý khách vui lòng thanh toán trong vòng {{ trip.paymentBefore}}</div> -->
      <div class="div-delivery_payment div-marginpayment"
        *ngIf="trip.payment_status == 0 && trip.delivery_payment_date_display">
        Chờ thanh toán tới <span class="text-waitpayment">{{ trip.delivery_payment_time_display}}</span> ngày <span
          class="text-waitpayment">{{ trip.delivery_payment_date_display}}</span>
      </div>
      <div *ngIf="trip.booking_type != 'TOUR' else bookingtourdetail">
        <!-- bkg VMBQT -->
        <div *ngIf="(trip.isBookingVMBQT && trip.isTravelPort) else otherbooking">
          <div class="d-flex">
            <div class="flight-info">
              <div class="div-datetime">{{cindisplay}}</div>
              <div class="div-flightnumber">{{trip.itemdepart.flightNumner }} - {{trip.itemdepart.ticketClass }}</div>
            </div>
            <div class="ticket-code"></div>
          </div>
        </div>
        <ng-template #otherbooking>
          <div
            *ngIf="trip.booking_type == 'TICKET'  else bkgnormal" class="div-bkg-ticket-content">

            <div class="div-bkg-ticket m-top-8">
              <div class="div-ticket-info d-flex">
                <div class="div-image"><img class="img-avatar" [src]="trip.avatar"></div>
                <div class="div-ticket-name m-left-12">
                    <div class="text-ticket-name">{{trip.hotel_name}}</div>
                    <div *ngIf="trip.address" class="text-ticket-address m-top-8 d-flex">
                      <div class="icon-local"><img class="img-local" src="./assets/imgs/location.svg"></div>
                      <div class="cls-hidden-row">{{trip.address}}</div>
                     
                    </div>
                </div>
              </div>
              <div class="div-ticket-border-bottom m-top-16 m-bottom-24"></div>
              <div class="div-ticket-info">
                <div class="d-flex">
                    <div class="div-icon-left"><img class="icon-date" src="./assets/ic_ticket/callendar.svg"></div>
                    <div class="text-date m-left-4">{{trip.VVCCheckinDisplay}}</div>
                </div>
                <div class="d-flex m-top-12">
                  <div class="div-icon-left"><img class="h-15" src="./assets/ic_ticket/ticket.svg"></div>
                  <div class=" m-left-4">
                    <div class="text-page-name">{{trip.combo_name}}</div>
                    <div class="text-pax m-top-4">{{trip.paxDisplay}}</div>
                    </div>
                </div>
              </div>
              
            </div>
            <div class="div-bkg-ticket m-right-8 m-top-16" *ngIf="ischeckqrLink">
              <div class="div-ticket-bkg" *ngFor="let itemqr of objectDetail.listNotes;let i=index">
                <div class="div-name text-name-ticket">{{objectDetail.experienceName}} - {{i+1}}</div>
                <div class="padding-8-12">
                  <div class="text-title-ticket">
                    Gói
                  </div>
                  <div class="text-content m-top-8">
                    {{objectDetail.packageName}}
                  </div>
                  <div class="d-flex m-top-8">
                    <div class="text-title-ticket w-110 align-self-end">
                      Ngày
                    </div>
                    <div class="text-content">
                      {{objectDetail.startDateShow}}
                    </div>
                  </div>
                  <div class="d-flex m-top-8" *ngIf="objectDetail && objectDetail.orderNumber">
                    <div class="text-title-ticket w-110 align-self-end">
                      Order Number
                    </div>
                    <div class="text-content">
                      {{objectDetail.orderNumber}}
                    </div>
                  </div>
                   <div class="d-flex m-top-8" *ngIf="objectDetail && objectDetail.confirmationCode">
                    <div class="text-title-ticket w-110 align-self-end">
                      Mã xác nhận
                    </div>
                    <div class="text-content">
                      {{objectDetail.confirmationCode}}
                    </div>
                  </div>
                </div>
               
                <div *ngIf="itemqr.qrLink" class="div-bkg-qrcode" (click)="showQrCodeSlide()">
                  <img class="img-qrcode" src={{itemqr.qrLink}}>
                </div>
                <div *ngIf="itemqr.token" class="div-bkg-ticketcode">{{itemqr.token}}</div>
                <div *ngIf="itemqr.title" class="div-bkg-pax m-top-2">{{itemqr.title}}</div>
              </div>
      
            </div>
            <div class="div-bkg-ticket" *ngIf="!ischeckqrLink">
              
              <div *ngIf="((objSummary && ticketChangeLocation) || (objectDetail && objectDetail.fileUrls && objectDetail.fileUrls.length>0)) else showConfirmationCode" class="div-ticket-location m-top-24 m-right-8 p-bottom-16">
                <div class="exp-name text-name-ticket" *ngIf="objSummary && objSummary.expeName">{{objSummary.expeName}}</div>
                <div class="exp-name text-name-ticket" *ngIf="!objSummary && objectDetail && objectDetail.experienceName">{{objectDetail.experienceName}}</div>
                <div class="exp-name text-sub-download p-top-8" *ngIf="objectDetail && objectDetail.fileUrls && objectDetail.fileUrls.length>0">Tải về máy hoặc mở link để sử dụng dịch vụ</div>
                <div  *ngIf="objectDetail && objectDetail.fileUrls && objectDetail.fileUrls.length>0">
                  <div class="div-v-align p-left-8 m-top-16 d-flex" *ngFor="let fileurl of ticketDownloadFiles">
                    <div class="div-link" (click)="downloadPDFVC(fileurl.url)"><a >{{fileurl.name}}</a></div>
                    <div class="div-button-ticket m-right-8" (click)="downloadPDFVC(fileurl.url)"> <img class="img-button-ticket" src="./assets/ic_ticket/download.svg" /></div>
                    <div class="div-button-ticket m-right-8" (click)="sharePDF(fileurl.url)"><img class="img-button-ticket" src="./assets/ic_ticket/share.svg" /></div>
                  </div>
                  
                </div>
                <div *ngIf="ticketChangeLocation" class="div-p8">
                  <div class="text-normal">Địa điểm đổi vé:</div>
                  <div class="text-title m-top-8">{{ticketChangeLocation}}</div>
                </div>
                <div class="div-p8" *ngIf="showIncludeContent" [innerHTML]="showIncludeContent"></div>
              </div>
              <ng-template #showConfirmationCode>
                <div class="div-ticket-location m-top-24 m-right-8" *ngIf="objectDetail">
                  <div class="exp-name text-name-ticket">{{objectDetail.experienceName}}</div>
                  <div class="padding-8-12">
                    <div class="text-title-ticket">
                      Gói
                    </div>
                    <div class="text-content m-top-8">
                      {{objectDetail.packageName}}
                    </div>
                    <div class="d-flex m-top-8">
                      <div class="text-title-ticket w-110 align-self-end">
                        Ngày
                      </div>
                      <div class="text-content">
                        {{objectDetail.startDateShow}}
                      </div>
                    </div>
                    <div class="d-flex m-top-8" *ngIf="objectDetail && objectDetail.orderNumber">
                      <div class="text-title-ticket w-110 align-self-end">
                        Order Number
                      </div>
                      <div class="text-content">
                        {{objectDetail.orderNumber}}
                      </div>
                    </div>
                     <div class="d-flex m-top-8" *ngIf="objectDetail && objectDetail.confirmationCode">
                      <div class="text-title-ticket w-110 align-self-end">
                        Mã xác nhận
                      </div>
                      <div class="text-content">
                        {{objectDetail.confirmationCode}}
                      </div>
                    </div>
                  </div>
                </div>
              </ng-template>
              <div *ngIf="trip.objdataRaw" class="div-location">
                          
                <div class="div-options">
                  <div *ngIf="trip.kkdayRender" class="text-title-ticket">
                    {{ trip.kkdayRender[1].label}}
                  </div>
                  <div class="text-options-select">{{trip.objdataRaw[0].name}}</div>
                  <div class="text-options">{{trip.objdataRaw[0].address}}</div>
                  <div class="d-flex">
                    <div class="text-options">{{trip.objdataRaw[0].s_time}}</div> <div class="m-5"> ~ </div> <div class="text-options">{{trip.objdataRaw[0].e_time}}</div>
                  </div>
                
                </div>
              </div>

            </div>
            <div class="div-split-panel m-top-24 m-bottom-16"></div>
            <div class="d-flex " (click)="showPrice()">
              <div class="text-info-2 font-weight-500" >
                Giá bao gồm
              </div>
              <div *ngIf="!expandPrice" class="position-absolute">
                <img src="./assets/imgs/ic_expand.svg" />
              </div>
              <div *ngIf="expandPrice" class="position-absolute">
                <img src="./assets/imgs/ic_expand_down.svg" />
              </div>
            </div>
              <div *ngIf="expandPrice" class="div-expand-price m-top-16 ">
                <div class="d-flex" *ngIf="objSummary && objSummary.adultNo && objSummary.adultAvgPrice">
                    <div class="text-left div-width-100">Người lớn x<span>{{objSummary.adultNo}}</span></div>
                    <div class="text-price-right div-width-100">{{gf.convertNumberToString(objSummary.adultAvgPrice)}} VND</div>
                </div>
                <div class="d-flex m-top-8" *ngIf="objSummary && objSummary.childNo && objSummary.childAvgPrice">
                  <div class="text-left div-width-100">Trẻ em x<span>{{objSummary.childNo}}</span></div>
                  <div class="text-price-right div-width-100">{{gf.convertNumberToString(objSummary.childAvgPrice)}} VND</div>
                </div>

                <div class="d-flex m-top-8" *ngIf="objSummary && objSummary.custom1No && objSummary.custom1AvgPrice">
                  <div class="text-left div-width-100">{{objSummary.custom1Name}} x<span>{{objSummary.custom1No}}</span></div>
                  <div class="text-price-right div-width-100">{{gf.convertNumberToString(objSummary.custom1AvgPrice)}} VND</div>
                </div>

                <div class="d-flex m-top-8" *ngIf="objSummary && objSummary.custom2No && objSummary.custom2AvgPrice">
                  <div class="text-left div-width-100">{{objSummary.custom2Name}} x<span>{{objSummary.custom2No}}</span></div>
                  <div class="text-price-right div-width-100">{{gf.convertNumberToString(objSummary.custom2AvgPrice)}} VND</div>
                </div>
                <div *ngIf="trip.deal_no && trip.promotionDiscountAmount" class="d-flex m-top-8">
                  <div class="text-left div-width-100">Ưu đãi</div>
                  <div class="text-price-right div-width-100">
                    {{gf.convertNumberToString(trip.promotionDiscountAmount)}} VND</div>
                </div>
              <div class="div-ticket-border-bottom m-top-8 m-bottom-8"></div>

              <div class="d-flex">
                <div class="text-info d-flex">
                  Tổng cộng - <div class="font-weight-600 mt4"
                    *ngIf="trip.payment_status != 3 && trip.payment_status != -2">
                    <label *ngIf="(trip.payment_status == 1 || trip.payment_status == 5) else waitpayment">Đã thanh
                      toán</label>
                    <ng-template #waitpayment>
                      <label class="text-red">Chưa thanh toán</label>
                    </ng-template>
                  </div>
                </div>

                <div *ngIf="amount_after_tax>0" class="position-absolute text-info font-weight-600"
                  [ngClass]="(trip.payment_status == 1 || trip.payment_status == 5)?'':'text-orange f-18'">
                  {{gf.numberToCurrency(amount_after_tax, '.')}} <span class="f-14">VND</span>
                </div>
                <div *ngIf="amount_after_tax<=0" class="position-absolute text-info font-weight-600"
                  [ngClass]="(trip.payment_status == 1 || trip.payment_status == 5)?'':'text-orange f-18'">
                  {{gf.numberToCurrency(trip.paid_amount, '.')}} <span class="f-14">VND</span>
                </div>
              </div>
              <div class="text-sub">(Giá đã bao gồm thuế & phí dịch vụ)</div>

            </div>

            <div class="d-flex m-top-16" (click)="ticketinfo()">
              <div class="text-info-2 font-weight-500">
                Chi tiết gói dịch vụ
              </div>
              <div *ngIf="!isTTV" class="position-absolute">
                <img src="./assets/imgs/ic_expand.svg" />
              </div>
              <div *ngIf="isTTV" class="position-absolute">
                <img src="./assets/imgs/ic_expand_down.svg" />
              </div>
            </div>
            <div *ngIf="isTTV" class="m-top-22">
           
              <p class="text-ttv" [innerHTML]="includePrice"></p>
            </div>

            <div class="d-flex m-top-16" (click)="nextSupport(trip)">
              <div class="text-info-2 font-weight-500">
                Liên hệ hỗ trợ
              </div>
              <div class="position-absolute">
                <img src="./assets/imgs/ic_expand.svg" />
              </div>
            </div>
            <div class="div-split-panel"></div>
           
          </div>
          <ng-template #bkgnormal>
              <div [ngClass]="trip.payment_status == 0 && trip.deliveryPaymentDisplay ? 'first-content' : 'first-content'">
              <ion-item-group>

                <!-- Vùng cho combo -->
                <div *ngIf="trip.booking_type == 'COMBO_FLIGHT'" class="m-top-8">
                  <!-- chiều đi -->
                  <div class="padding-5">
                    <div class="d-flex text-thin m-0">
                      <div class="div-gird ">
                        <div class="div-width-100">{{trip.bookingsComboData[0].checkInDisplay}}</div>
                        <div class="d-flex m-top-6">
                          <div class="div-width-200 d-flex">
                            <div class="div-img-logo-new">
                              <img class="img-logo-new"
                                *ngIf="trip.bookingsComboData[0].airlineName.indexOf('VIETJET') != -1 "
                                src="./assets/ic_airticket/vj.png">
                              <img class="img-logo-new logo_vna"
                                *ngIf="(trip.bookingsComboData[0].airlineName.indexOf('Vietnam Airlines') != -1  || trip.bookingsComboData[0].airlineName.indexOf('VIETNAM AIRLINES') != -1 ) && !trip.operatedBy "
                                src="./assets/ic_airticket/vna.png">
                              <img class="img-logo-new logo_vna"
                                *ngIf="(trip.bookingsComboData[0].airlineName.indexOf('Vietnam Airlines') != -1  || trip.bookingsComboData[0].airlineName.indexOf('VIETNAM AIRLINES') != -1 ) && trip.operatedBy"
                                src="./assets/ic_airticket/vna.png">
                              <img class="img-logo-new"
                                *ngIf="trip.bookingsComboData[0].airlineName.indexOf('JETSTAR') != -1"
                                src="./assets/ic_airticket/ic_jetstar_b.png">
                              <img class="img-logo-new"
                                *ngIf="trip.bookingsComboData[0].airlineName.indexOf('BAMBOO') != -1 "
                                src="./assets/ic_airticket/bb.png">

                            </div>
                            <div
                              *ngIf="trip.bookingsComboData[0].flightNumner && !trip.bookingsComboData[0].flightNumberNew"
                              class="div-ticket div-overflow-ticket">{{trip.bookingsComboData[0].flightNumner }} -
                              {{trip.bookingsComboData[0].ticketClass }}</div>
                            <div *ngIf="trip.bookingsComboData[0].flightNumberNew" class="div-ticket div-overflow-ticket">
                              {{trip.bookingsComboData[0].flightNumberNew }} - {{trip.bookingsComboData[0].ticketClass }}
                            </div>

                          </div>

                        </div>
                      </div>
                      <div *ngIf="(trip.payment_status == 1 || trip.payment_status == 5)" class="div-gird div-pnr">
                        <div class="padding-5-8">
                          <div class="text-center">
                            <div class="text-info">Mã đặt chỗ</div>
                          </div>
                          <div class="d-flex" *ngIf="trip.bookingsComboData[0].ticketCode.indexOf('T__') == -1">
                            <div class="text-hold-ticket">{{ trip.bookingsComboData[0].ticketCode }}</div>
                            <img (click)="copyClipboard(trip.bookingsComboData[0].ticketCode)" class="img-copy"
                              src="./assets/imgs/ic_copy.png">
                          </div>

                        </div>
                      </div>
                    </div>
                    <div class="m-top-14 d-flex">
                      <div *ngIf="trip.bookingsComboData[0].departureTime && !trip.bookingsComboData[0].departureTimeNew"
                        class="text-time-depart">
                        {{trip.bookingsComboData[0].departureTime}}
                      </div>
                      <div *ngIf="trip.bookingsComboData[0].departureTimeNew" class="text-time-depart">
                        {{trip.bookingsComboData[0].departureTimeNew}}
                      </div>
                      <div class="placepoint">
                      </div>
                      <div class="m-l-6">
                        <div class="text-info font-weight-500">{{trip.bookingsComboData[0].flightFrom}}</div>
                        <div class="text-name-airport m-0">{{ departAirport}} | {{ trip.bookingsComboData[0].departCode }}
                        </div>
                      </div>
                    </div>
                    <div class="placeline-combo">
                    </div>
                    <div class="d-flex" style="margin-top: 16px">
                      <div class="text-time-return">
                        {{trip.bookingsComboData[0].arrivalTime}}
                      </div>
                      <div class="placepoint">
                      </div>
                      <div class="m-l-6">
                        <div class="text-info font-weight-500">{{trip.bookingsComboData[0].flightTo}}</div>
                        <div class="text-name-airport m-0">{{ returnAirport}} | {{ trip.bookingsComboData[0].arrivalCode
                          }}</div>
                      </div>
                    </div>

                  </div>
                  <!-- Chiều về -->
                  <div *ngIf="trip.bookingsComboData[1]">
                    <div class="div-split"></div>

                    <div class="d-flex text-thin m-0">
                      <div class="div-gird ">
                        <div class="div-width-100">{{ trip.bookingsComboData[1].checkOutDisplay }}</div>
                        <div class="d-flex m-top-6">
                          <div class="div-width-200 d-flex">
                            <div class="div-img-logo-new">
                              <img class="img-logo-new"
                                *ngIf="trip.bookingsComboData[1].airlineName.indexOf('VIETJET') != -1 "
                                src="./assets/ic_airticket/vj.png">
                              <img class="img-logo-new logo_vna"
                                *ngIf="(trip.bookingsComboData[1].airlineName.indexOf('Vietnam Airlines') != -1  || trip.bookingsComboData[1].airlineName.indexOf('VIETNAM AIRLINES') != -1 ) && !trip.operatedBy "
                                src="./assets/ic_airticket/vna.png">
                              <img class="img-logo-new logo_vna"
                                *ngIf="(trip.bookingsComboData[1].airlineName.indexOf('Vietnam Airlines') != -1  || trip.bookingsComboData[1].airlineName.indexOf('VIETNAM AIRLINES') != -1 ) && trip.operatedBy"
                                src="./assets/ic_airticket/vna.png">
                              <img class="img-logo-new"
                                *ngIf="trip.bookingsComboData[1].airlineName.indexOf('JETSTAR') != -1"
                                src="./assets/ic_airticket/ic_jetstar_b.png">
                              <img class="img-logo-new"
                                *ngIf="trip.bookingsComboData[1].airlineName.indexOf('BAMBOO') != -1 "
                                src="./assets/ic_airticket/bb.png">

                            </div>
                            <div
                              *ngIf="trip.bookingsComboData[1].flightNumner && !trip.bookingsComboData[1].flightNumberNew"
                              class="div-ticket div-overflow-ticket">{{trip.bookingsComboData[1].flightNumner }} -
                              {{trip.bookingsComboData[1].ticketClass }}</div>
                            <div *ngIf="trip.bookingsComboData[1].flightNumberNew" class="div-ticket div-overflow-ticket">
                              {{trip.bookingsComboData[1].flightNumberNew }} - {{trip.bookingsComboData[1].ticketClass }}
                            </div>
                          </div>

                        </div>
                      </div>
                      <div *ngIf="(trip.payment_status == 1 || trip.payment_status == 5)" class="div-gird div-pnr">
                        <div class="padding-5-8">
                          <div class="text-center">
                            <div class="text-info">Mã đặt chỗ</div>
                          </div>
                          <div class="d-flex" *ngIf="trip.bookingsComboData[1].ticketCode.indexOf('T__') == -1">
                            <div class="text-hold-ticket">{{ trip.bookingsComboData[1].ticketCode }}</div>
                            <img class="img-copy" (click)="copyClipboard(trip.bookingsComboData[1].ticketCode)"
                              src="./assets/imgs/ic_copy.png">
                          </div>

                        </div>
                      </div>
                    </div>
                    <div class="m-top-14 d-flex">
                      <div *ngIf="trip.bookingsComboData[1].departureTime && !trip.bookingsComboData[1].departureTimeNew"
                        class="text-time-depart">
                        {{trip.bookingsComboData[1].departureTime}}
                      </div>
                      <div *ngIf="trip.bookingsComboData[1].departureTimeNew" class="text-time-depart">
                        {{trip.bookingsComboData[1].departureTimeNew}}
                      </div>
                      <div class="placepoint">
                      </div>
                      <div class="m-l-6">
                        <div class="text-info font-weight-500">{{trip.bookingsComboData[1].flightFrom}}</div>
                        <div class="text-name-airport m-0">{{ returnAirport}} | {{ trip.bookingsComboData[1].departCode }}
                        </div>
                      </div>
                    </div>
                    <div class="placeline-return-combo">
                    </div>
                    <div class="d-flex" style="margin-top: 16px">
                      <div class="text-time-return">
                        {{trip.bookingsComboData[1].arrivalTime}}
                      </div>
                      <div class="placepoint">
                      </div>
                      <div class="m-l-6">
                        <div class="text-info font-weight-500">{{trip.bookingsComboData[1].flightTo}}</div>
                        <div class="text-name-airport m-0">{{ departAirport}} | {{ trip.bookingsComboData[1].arrivalCode
                          }}</div>
                      </div>
                    </div>

                  </div>
                </div>
                <div *ngIf="trip.bookingsComboData   && trip.booking_type!='COMBO_VXR'" class="div-line-new"
                  style="margin-left: -16px;margin-right: -16px;margin-top: 8px;">

                </div>
                <div *ngIf="trip.bookingsComboData   && trip.booking_type!='COMBO_VXR'">
                  <div class="p-top-8" *ngFor="let pax of trip.bookingsComboData[0].passengers; let idx = index">

                    <div class="div-pax-lug">
                      <div
                        [ngClass]="idx==0 ? 'pax-name m-top-8' : (pax.arrlug && pax.arrlug.length >0) ? 'pax-name m-top-27' : ( (idx == trip.bookingsComboData[0].passengers.length -1 && trip.bookingsComboData[0].passengers[trip.bookingsComboData[0].passengers.length-2] && trip.bookingsComboData[0].passengers[trip.bookingsComboData[0].passengers.length-2].arrlug && trip.bookingsComboData[0].passengers[trip.bookingsComboData[0].passengers.length-2].arrlug.length >0 )? 'pax-name m-top-27' :  'pax-name m-top-16')">
                        <label class="text-info font-weight-500">{{pax.gender}}. <span>{{pax.name}}</span> <span
                            class="text-info" *ngIf="!pax.isAdult && pax.dob"> {{pax.dob}}</span></label>
                      </div>
                      <!-- <div class="pax-type ">{{pax.gender}}</div> -->
                    </div>

                    <div class="d-flex m-top-13" *ngIf="!pax.isInfant">
                      <div class="text-name-airport witdh-80">
                        {{ trip.bookingsComboData[0].departCode }} - {{ trip.bookingsComboData[0].arrivalCode }}
                      </div>
                      <div class="d-flex m-left-4">
                        <img class="m-top-7" src="./assets/imgs/ic_handbag.svg" />
                        <div class="text-info font-weight-500 m-left-4 witdh-70">{{baggageHandedDepart}}</div>
                      </div>
                      <div *ngIf="pax.hanhLyshow && pax.hanhLyshow!='0'" class="d-flex m-left-4">
                        <img class="m-top-7" src="./assets/imgs/ic_airdrop.svg" />
                        <div class="text-info font-weight-500 m-left-4 witdh-70">{{pax.hanhLyshow}} kg</div>
                      </div>
                      <div *ngIf="!pax.hanhLyshow||pax.hanhLyshow=='0'" class="d-flex m-left-4">
                        <img class="m-top-7" src="./assets/imgs/ic_airdrop.svg" />
                        <div class="text-info font-weight-500 m-left-4 witdh-70">không có</div>
                      </div>
                      <div *ngIf="pax.seatNumber" class="d-flex m-left-4">
                        <img class="m-top-7" src="./assets/imgs/ic_seat.svg" />
                        <div class="text-info font-weight-500 m-left-4 align-self-end">{{pax.seatNumber}}</div>
                      </div>

                    </div>
                    <div class="d-flex m-top-13"
                      *ngIf=" trip.bookingsComboData[1].airlineCode && trip.bookingsComboData[1].airlineName.toLowerCase().indexOf('cathay') == -1 && ['GO', 'RETURN', 'GOROUNDTRIP', 'RETURNROUNDTRIP'].indexOf(trip.bookingsComboData[1].trip_Code) == -1 && !pax.isInfant">
                      <div class="text-name-airport witdh-80">
                        {{ trip.bookingsComboData[1].departCode }} - {{ trip.bookingsComboData[1].arrivalCode }}
                      </div>

                      <div class="d-flex m-left-4">
                        <img class="m-top-7" src="./assets/imgs/ic_handbag.svg" />
                        <div class="text-info font-weight-500 m-left-4 witdh-70">{{baggageHandedReturn}}</div>
                      </div>

                      <div
                        *ngIf="trip.bookingsComboData[1].passengers[idx].hanhLyshow && trip.bookingsComboData[1].passengers[idx].hanhLyshow!='0'"
                        class="d-flex m-left-4">
                        <img class="m-top-7" src="./assets/imgs/ic_airdrop.svg" />
                        <div class="text-info font-weight-500 m-left-4 witdh-70">
                          {{trip.bookingsComboData[1].passengers[idx].hanhLyshow}} kg</div>
                      </div>
                      <div
                        *ngIf="!trip.bookingsComboData[1].passengers[idx].hanhLyshow||trip.bookingsComboData[1].passengers[idx].hanhLyshow=='0'"
                        class="d-flex m-left-4">
                        <img class="m-top-7" src="./assets/imgs/ic_airdrop.svg" />
                        <div class="text-info font-weight-500 m-left-4 witdh-70">không có</div>
                      </div>
                      <div *ngIf="trip.bookingsComboData[1].passengers[idx].seatNumber" class="d-flex m-left-4">
                        <img class="m-top-7" src="./assets/imgs/ic_seat.svg" />
                        <div class="text-info font-weight-500 m-left-4 align-self-end">
                          {{trip.bookingsComboData[1].passengers[idx].seatNumber}}</div>
                      </div>


                    </div>

                  </div>
                </div>
                <!-- Vùng cho combo vxr -->
                <div *ngIf="trip.booking_type == 'COMBO_VXR'">
                  <div class="div-split-color"></div>
                  <ion-row>
                    <!-- Depart -->
                    <ion-col *ngFor="let com of trip.bookingsComboData; let idx = index"
                      [ngClass]="idx==0? 'col-nopadding-left': ''">
                      <!-- Image -->
                      <div>
                        <ion-row *ngIf="idx == 0" class="div-flight-label">
                          <ion-col>Chiều đi <span class="text-code-vxr">{{trip.bookingsComboData[0].ticketCode}}</span>
                          </ion-col>
                        </ion-row>
                        <ion-row *ngIf="idx == 1" class="div-flight-label">
                          <ion-col>Chiều về <span class="text-code-vxr">{{trip.bookingsComboData[1].ticketCode}}</span>
                          </ion-col>
                        </ion-row>
                        <ion-row>
                          <ion-col size="12">
                            <div class="combo-info">
                              <!-- date -->
                              <div class="combo-departure-date">
                                <span *ngIf="idx==0" class="checkin-label">{{com.departureDate}}</span>
                                <span *ngIf="idx==1" class="checkin-label">{{com.departureDate}}</span>
                              </div>
                              <!-- time -->
                              <div class="combo-departure-time">
                                <span *ngIf="idx==0 && com.changeFlightInfo"
                                  [ngClass]="idx==0 && com.changeFlightInfo ? 'cin-departure-time-label cls-strike' : 'cin-departure-time-label' ">{{com.oldFlightTime}}
                                  → {{com.arrivalTime}}</span>
                                <span *ngIf="idx==1 && com.changeFlightInfo"
                                  [ngClass]="idx==1 && com.changeFlightInfo ? 'cin-departure-time-label cls-strike' : 'cin-departure-time-label' ">{{com.oldFlightTime}}
                                  → {{com.arrivalTime}}</span>
                              </div>
                              <div class="combo-flight-change">
                                <span *ngIf="idx==0 && !com.changeFlightInfo"
                                  class="cin-departure-time-label">{{com.departureTime}} → {{com.arrivalTime}}</span>
                                <span *ngIf="idx==1 && !com.changeFlightInfo"
                                  class="cin-departure-time-label">{{com.departureTime}} → {{com.arrivalTime}}</span>
                              </div>
                              <!-- location -->
                              <div class="combo-flight">
                                <span *ngIf="idx==0" class="flight-from">{{com.flightFrom}} → {{com.flightTo}}</span>
                                <span *ngIf="idx==1" class="flight-from">{{com.flightFrom}} → {{com.flightTo}}</span>
                              </div>
                              <!-- flightNumner -->
                              <div *ngIf="idx==0" class="flight-numner">{{com.flightNumner}}</div>
                              <div *ngIf="idx==1" class="flight-numner">{{com.flightNumner}}</div>
                            </div>
                          </ion-col>
                        </ion-row>
                      </div>
                      <!-- Info depart -->
                    </ion-col>
                  </ion-row>
                </div>
                <div *ngIf="trip.bookingsComboData" class="div-line-new"
                  style="margin-left: -16px;margin-right: -16px;margin-top: 8px;">

                </div>
                <div class="item-room-detail" *ngIf="!trip.isFlyBooking && !trip.bookingOffType">
                  <div [ngClass]="!trip.combo_name? 'div-wrapimg img-list' : 'div-wrapimg-1 img-list-1'"
                    class="div-wrapimg img-list">
                    <div *ngIf="trip.avatar else noavatar">
                      <img [ngClass]="!trip.combo_name? 'img-avatar ava-list' : 'img-avatar-1 ava-list-1'"
                        src="{{trip.avatar}}">
                      <img *ngIf="trip.avatar.indexOf('i.travelapi.com') != -1"
                        [ngClass]="!trip.combo_name? 'img-avatar ava-list' : 'img-avatar-1 ava-list-1'"
                        src="{{trip.avatar}}">
                    </div>
                    <!-- <img *ngIf="trip.avatar else noavatar" class="img-avatar ava-list" src="https:{{trip.avatar}}"> -->
                    <ng-template #noavatar>
                      <img class="img-avatar no-ava-list"
                        src="https://cdn1.ivivu.com/iVivu/2018/02/07/15/noimage-104x104.png">
                    </ng-template>
                  </div>

                  <div class="col-mytrip-text-description ">
                    <div>
                      <div *ngIf="trip.hotel_name && !trip.isFlyBooking && !trip.bookingOffType">
                        <ion-label class="label-comboname div-name-hotel text-line-clamp">{{trip.hotel_name}}

                        </ion-label>
                      </div>
                      <!-- Nội dung combo nếu có -->
                      <div *ngIf="trip.combo_name && !trip.isFlyBooking && !trip.bookingOffType" class="div-comboname">
                        <label>{{trip.combo_name}}</label>
                      </div>


                      <!-- địa chỉ -->
                      <ion-row *ngIf="trip.booking_type != 'TICKET'">
                        <ion-col size="1" class="text-address">
                          <img style="height:12px" src="./assets/ic_hoteldetail/group.svg">
                        </ion-col>
                        <ion-col class="text-address" [ngClass]="trip.payment_status == 1 ? '': ''">
                          <label class="text-line-clamp">{{trip.address}}</label>
                        </ion-col>
                      </ion-row>
                      <!-- số đt -->
                      <ion-row *ngIf="(trip.payment_status == 1 || trip.payment_status == 5) && trip.booking_type != 'TICKET'">
                        <ion-col size="1" class="col-address ">
                          <img style="height:12px" src="./assets/imgs/ic_call_offline.svg">
                        </ion-col>
                        <ion-col class="col-address text-wrap" [ngClass]="trip.payment_status == 1 ? '': ''">
                          <label>{{trip.hotelPhone}}</label>
                        </ion-col>
                      </ion-row>
                    </div>
                  </div>
                </div>


              </ion-item-group>
              <!-- Checkin, checkout -->
              <!-- Checkin, checkout -->
              <div class="div-panel-no-margin margin-8 m-top-24" *ngIf="!trip.isFlyBooking && !trip.isRequest && !trip.bookingOffType"></div>

              <!-- Thông tin phòng -->
              <div *ngIf="!trip.isFlyBooking && trip.HotelIdERP && !trip.bookingOffType">
                <!-- <ion-row (click)="openBookingTrip(trip)">
                <ion-col class="col-nopd-top"><label class="room-name">{{trip.room_name}}</label></ion-col>
                <ion-col size="1" class="icon-arrow-right" *ngIf="!trip.isHistoryItem">
                  <img  class="cls-icon-img-detail"  src="./assets/imgs/ic_arrow_grey.svg">
                </ion-col>
              </ion-row> -->
                <div class="d-flex m-top-16">
                  <div>
                    <img src="./assets/imgs/ic_date.svg">
                  </div>
                  <div class="text-info m-left-4 font-weight-500">
                    {{trip.checkInDisplayCity}} → {{trip.checkOutDisplayCity}}
                  </div>
                </div>
                <div class="div-gird m-left-20 m-top-4">
                  <div class="text-info-1">
                    Nhận phòng: <span class="text-info">Từ {{cin}}</span>
                  </div>
                  <div class="text-info-1">
                    Trả phòng: <span class="text-info">Trước {{cout}}</span>
                  </div>
                </div>
                <div *ngIf="!trip.bookingOffType">
                  <div class="d-flex m-top-12">
                    <div>
                      <img src="./assets/ic_facility/ic_bed.svg">
                    </div>
                    <div class="text-info m-left-4 font-weight-500">
                      {{trip.room_name}} x{{trip.room_count}}
                    </div>
                  </div>
                  <!-- ăn sáng -->
                  <div *ngIf="trip.meal_plan" class="d-flex m-top-12">
                    <div><img src="./assets/ic_hoteldetail/ic_food_b.svg"></div>
                    <div class="text-info m-left-4 font-weight-500">{{trip.meal_plan}}</div>
                  </div>
                  <div class="d-flex m-top-12">
                    <div>
                      <img src="./assets/ic_facility/ic_people.svg">
                    </div>
                    <div class="text-info m-left-4">
                      {{trip.totalPaxStr}}
                    </div>
                  </div>
                  <!-- <div class="d-flex m-top-3">
                  <div class=" div-left"><img src="./assets/ic_facility/ic_people.svg"></div>
                  <div style="font-size: 14px;">{{trip.room_count}} phòng | {{trip.totalPaxStr}}</div>
                </div> -->


                </div>
                <div
                  *ngIf="!trip.bookingOffType && (trip.payment_status == 1 || trip.payment_status == 5) && trip.off_sup_code"
                  class="div-bookingid d-flex m-top-12">
                  <div class="text-info">Mã nhận phòng:
                    <span class="text-booking-id">{{trip.off_sup_code}}</span>
                  </div>
                  <img (click)="copyClipboard(trip.off_sup_code)" class="position-absolute-24"
                    src="./assets/imgs/ic_copy.png" />
                </div>
                <!-- <div *ngIf="trip.bookingOffType && trip.off_sup_code" class="div-bookingid d-flex m-top-12">
                  <div class="text-info">Mã nhận phòng:
                    <span class="text-booking-id">{{trip.off_sup_code}}</span>
                  </div>
                  <img (click)="copyClipboard(trip.off_sup_code)" class="position-absolute-24"
                    src="./assets/imgs/ic_copy.png" />
                </div>
                <div *ngIf="trip.bookingOffType && trip.bookingOffType != 1">
                  <div class="m-top-3 text-offsubcode">Mã nhận phòng:
                    <span>{{trip.off_sup_code}}</span>
                  </div>
                </div> -->

              </div>
              <div [ngClass]="trip.payment_status == 0 && trip.deliveryPaymentDisplay?'div-total-payment':'div-total'" *ngIf="!trip.bookingOffType">
                <div class="padding-12-16">
                  <div class="d-flex">
                    <div class="text-info div-roomname">
                      {{trip.room_name}}
                    </div>
                    <div class="position-absolute text-info">
                      {{gf.numberToCurrency(totalHotel, '.')}} VND
                    </div>
                  </div>
                  <div class="text-name-airport">
                    {{trip.room_count}} phòng, {{trip.roomNight}} đêm
                  </div>
                  <div class="d-flex m-top-8"
                    *ngIf="trip.promotionDiscountAmount&&trip.promotionDiscountAmount>0 && trip.ivivu_point>0">
                    <div class="text-info">
                      iVIVU point
                    </div>
                    <div class="position-absolute text-info">
                      {{gf.numberToCurrency(trip.promotionDiscountAmount, '.')}} VND
                    </div>
                  </div>
                  <div class="d-flex m-top-8"
                    *ngIf="trip.promotionDiscountAmount&&trip.promotionDiscountAmount>0 && !trip.ivivu_point">
                    <div class="text-info">
                      Khuyến mãi
                    </div>
                    <div class="position-absolute text-info">
                      {{gf.numberToCurrency(trip.promotionDiscountAmount, '.')}} VND
                    </div>
                  </div>
                  <div class="d-flex m-top-8" *ngIf="trip.paid_amount&&trip.paid_amount>0&&amount_after_tax>0">
                    <div class="text-info m-top-8">
                      Đã thanh toán trước
                    </div>
                    <div class="position-absolute text-info">
                      {{gf.numberToCurrency(trip.paid_amount, '.')}} VND
                    </div>
                  </div>
                  <div *ngIf="totalService>0" class="d-flex m-top-8">
                    <div class="text-info">
                      Phụ thu thêm
                    </div>
                    <div class="position-absolute text-info">
                      {{totalService}} VND
                    </div>
                  </div>
                  <!-- <div *ngIf="totalService>0" class="text-name-airport">
                  Thêm giường phụ
                </div> -->

                  <div class="div-split"></div>
                  <div class="d-flex m-top-8">
                    <div class="text-info d-flex">
                      Tổng cộng - <div class="font-weight-600 mt4"
                        *ngIf="!trip.isFlyBooking && (trip.payment_status != 3 && trip.payment_status != -2)">
                        <label *ngIf="(trip.payment_status == 1 || trip.payment_status == 5) else waitpayment">Đã thanh
                          toán</label>
                        <ng-template #waitpayment>
                          <label class="text-red">Chờ thanh toán</label>
                        </ng-template>
                      </div>
                    </div>
                    <div *ngIf="amount_after_tax>0" class="position-absolute text-info font-weight-600"
                      [ngClass]="(trip.payment_status == 1 || trip.payment_status == 5)?'':'text-orange'">
                      {{gf.numberToCurrency(amount_after_tax, '.')}} VND
                    </div>
                    <div *ngIf="amount_after_tax<=0" class="position-absolute text-info font-weight-600"
                      [ngClass]="(trip.payment_status == 1 || trip.payment_status == 5)?'':'text-orange'">
                      {{gf.numberToCurrency(trip.paid_amount, '.')}} VND
                    </div>
                  </div>
                  <div class="text-name-airport">
                    (Giá đã bao gồm thuế & phí dịch vụ)
                  </div>
                </div>
              </div>


              <!-- <div class="d-flex" (click)="nextSupport(trip)">
              <div class="text-info-2 font-weight-500 padding-bottom-20">
                Liên hệ hỗ trợ
              </div>
              <div  class="position-absolute">
                <img src="./assets/imgs/ic_expand.svg" />
              </div>
            </div> -->

            <div *ngIf="trip.bookingOffType" class="div-bkg-off">
                    
              <div *ngIf="trip.bookingOffType != 2">
                <div class="text-title" *ngIf="trip.hotel_name">{{trip.hotel_name}}</div>
                <div class="div-line-new-1 m-top-8"></div>
                  <div class="div-date d-flex">
                    <div class="div-width-100" *ngIf="trip.checkInStr">
                        <div class="text-date-sub">Ngày đi</div>
                        <div class="text-date">{{trip.checkInStr}}</div>
                    </div>
                    <div class="div-width-100" *ngIf="trip.checkOutStr">
                      <div class="text-date-sub">Ngày về</div>
                      <div class="text-date">{{trip.checkOutStr}}</div>
                    </div>
                  </div>

                <div class="div-line-new-1 m-top-4" *ngIf="trip.room_name"></div>

                <div class="text-sub-title m-top-8">
                  {{trip.room_name}}
                </div>
                
                <div class="d-flex m-top-4" *ngIf="trip.bookingOffType == 1">
                  <div class="text-normal"><img src="./assets/imgs/ic_people.svg"> {{trip.room_count}} phòng | {{trip.totalPaxStr}} <span *ngIf="trip.textChildDisplay">{{trip.textChildDisplay}}</span></div>
                </div>

                <div class="div-split-panel" *ngIf="trip.cus_name"></div>

                <div class="text-pax-name" *ngIf="trip.cus_name">{{trip.cus_name}}</div>
                <div class="text-normal" *ngIf="trip.cus_email">{{trip.cus_email}} <span *ngIf="trip.cus_phone"> · {{trip.cus_phone}}</span></div>

              </div>

              <div *ngIf="trip.bookingOffType == 2" class="m-top-8">
                <div class="text-title" *ngIf="trip.flight_ticket_info">{{trip.flight_ticket_info}}</div>
                <div class="div-line-new-1 m-top-8"></div>
                  <div class="div-date d-flex">
                    <div class="div-width-100" *ngIf="trip.checkInStr">
                        <div class="text-date-sub">Ngày đi</div>
                        <div class="text-date">{{trip.checkInStr}}</div>
                    </div>
                    <div class="div-width-100" *ngIf="trip.checkOutStr">
                      <div class="text-date-sub">Ngày về</div>
                      <div class="text-date">{{trip.checkOutStr}}</div>
                    </div>
                  </div>

                <div class="div-line-new-1 m-top-4" *ngIf="trip.room_name"></div>

                <div class="text-sub-title m-top-14" *ngIf="trip.room_name">{{trip.room_name}}</div>
                <div class="text-normal m-top-4" *ngIf="trip.off_sup_code">Mã booking: {{trip.off_sup_code}}</div>

                <div class="div-split-panel" *ngIf="trip.cus_name"></div>

                <div class="text-pax-name" *ngIf="trip.cus_name">{{trip.cus_name}}</div>
                <div class="text-normal" *ngIf="trip.cus_email">{{trip.cus_email}} <span *ngIf="trip.cus_phone"> · {{trip.cus_phone}}</span></div>

              </div>
              

              <div class="div-split-color"></div>
            </div>

              <!-- Vùng bkg Flight -->
              <div class="div-flybooking" *ngIf="trip.isFlyBooking">
                <div *ngIf="trip.bookingsComboData[0]">
                  <div class="div-split"></div>

                  <div class="div-first d-flex">
                    <div>
                      <div class="d-flex">
                        <div
                          *ngIf="trip.bookingsComboData[0].departureTime && !trip.bookingsComboData[0].departureTimeNew"
                          class="div-time">{{trip.bookingsComboData[0].departureTime}}</div>
                        <div *ngIf="trip.bookingsComboData[0].departureTimeNew" class="div-time">
                          {{trip.bookingsComboData[0].departureTimeNew}}</div>
                        <div class="div-flight-time"></div>
                        <div class="div-time">{{trip.bookingsComboData[0].arrivalTime}}</div>
                      </div>

                      <div class="div-split">
                        <img src="./assets/ic_flight/icon_flight_line.svg">
                      </div>

                      <div class="d-flex">
                        <div class="div-departcode">
                          {{trip.bookingsComboData[0].departCode}}
                        </div>
                        <div class="div-flight-time m-0-16">
                          {{trip.bookingsComboData[0].flightTimeDisplay}}
                        </div>

                        <div class="div-departcode" *ngIf="trip.bookingsComboData[0].stops == 0">
                          {{trip.bookingsComboData[0].arrivalCode}}
                        </div>

                      </div>
                    </div>
                  </div>
                  <div class="'div-second d-flex p-top-8' ">

                    <div class="div-logo">
                      <img class="img-logo" [src]="trip.bookingsComboData[0].logo">
                    </div>

                    <div class="flight-type p-l-8 d-flex">
                      <div>{{trip.bookingsComboData[0].airlineName}} · {{trip.bookingsComboData[0].ticketClass}}</div>
                    </div>

                  </div>
                </div>

                <div
                  *ngIf="trip.bookingsComboData[1] && trip.bookingsComboData[1].airlineName.indexOf('Xe Đưa Đón') ==-1">
                  <div class="div-split"></div>

                  <div class="div-first d-flex">
                    <div>
                      <div class="d-flex">
                        <div
                          *ngIf="trip.bookingsComboData[1].departureTime && !trip.bookingsComboData[1].departureTimeNew"
                          class="div-time">{{trip.bookingsComboData[1].departureTime}}</div>
                        <div *ngIf="trip.bookingsComboData[1].departureTimeNew" class="div-time">
                          {{trip.bookingsComboData[1].departureTimeNew}}</div>
                        <div class="div-flight-time"></div>
                        <div class="div-time">{{trip.bookingsComboData[1].arrivalTime}}</div>
                      </div>

                      <div class="div-split">
                        <img src="./assets/ic_flight/icon_flight_line.svg">
                      </div>

                      <div class="d-flex">
                        <div class="div-departcode">
                          {{trip.bookingsComboData[1].departCode}}
                        </div>
                        <div class="div-flight-time m-0-16">
                          {{trip.bookingsComboData[1].flightTimeDisplay}}
                        </div>

                        <div class="div-departcode" *ngIf="trip.bookingsComboData[1].stops == 0">
                          {{trip.bookingsComboData[1].arrivalCode}}
                        </div>

                      </div>
                    </div>
                  </div>
                  <div class="'div-second d-flex p-top-8' ">

                    <div class="div-logo">
                      <img class="img-logo" [src]="trip.bookingsComboData[1].logo">
                    </div>

                    <div class="flight-type p-l-8 d-flex">
                      <div>{{trip.bookingsComboData[1].airlineName}} · {{trip.bookingsComboData[1].ticketClass}}</div>
                    </div>

                  </div>
                </div>


              </div>

              <!-- Hành lý -->
              <div *ngIf="trip.isFlyBooking">
                <div class="div-split-color"></div>
                <div>
                  <label class="pax-label">Hành Khách</label>
                </div>
                <div class="p-top-8" *ngFor="let pax of trip.bookingsComboData[0].passengers; let idx = index">
                  <div class="div-pax-lug">
                    <div [ngClass]="idx==0 ? 'pax-name m-top-8' : 'pax-name m-top-27'">
                      <label>{{idx+1}}.{{pax.name}}</label>
                    </div>
                    <div class="pax-type text-right " *ngIf="pax.isAdult else isChildren">Người lớn</div>
                    <ng-template #isChildren>
                      <div class="pax-type text-right ">Trẻ em</div>
                    </ng-template>
                  </div>

                  <div class="div-luggest" *ngFor="let lugg of pax.arrlug">
                    <div *ngIf="!pax.isInfant"> {{lugg.lugname}} | {{lugg.lugweight}}</div>
                  
                  </div>
                </div>
              </div>
              <!-- End vùng cho combo -->

              <!-- Giá + chính sách hủy -->
              <div class="div-price-and-policy"
                *ngIf="trip.bookingOffType && (trip.inclusion || trip.off_hotel_paypolicy)">
                <div *ngIf="trip.inclusion">
                  <div class="div-price-title">
                    Giá bao gồm
                  </div>

                  <div class="div-text-price">
                    {{trip.inclusion}}
                  </div>
                </div>

                <div [ngClass]="trip.inclusion ? 'p-top-12' : ''" *ngIf="trip.off_hotel_paypolicy">
                  <div class="div-price-title">
                    Chính sách hủy
                  </div>

                  <div class="div-text-price" [innerHTML]="trip.off_hotel_paypolicy">
                    <!-- {{trip.off_hotel_paypolicy}} -->
                  </div>
                </div>
                <div class="div-split-color" *ngIf="!trip.isRequestTrip"></div>
              </div>

              <!-- Bảo hiểm ---------------- -->
              <div class="div-insurance div-insurance-detail" *ngIf="arrinsurrance && arrinsurrance.length >0">
                <div class="div-split-insurrance"></div>
                <div class="row-label-insurance">
                  <img class="logo-insurance" src="./assets/logo/logo_1.svg">
                  <label class="cls-label-text p-lt-4">Thông tin bảo hiểm</label>
                </div>

                <div *ngFor="let item of arrinsurrance; let idx = index" class="m-r-3">
                  <div [ngClass]="idx ==0 ? 'div-item-insurance p-top-8' : 'div-item-insurance'">

                    <div
                      [ngClass]="idx==0 ? 'div-pax-lug d-flex-insurrance m-top-8' : 'div-pax-lug d-flex-insurrance m-top-27' ">
                      <div class="pax-name">
                        <div class="div-text-pax-name">{{idx+1}}. <span class="f-bold">{{item.customer_name}}</span>
                        </div>
                      </div>
                      <div class="div-cathay r8">
                        <span (click)="showActionSheetInsurrance(trip, item, false)" class="text-cathay"
                          *ngIf="!item.claimed else hadclaimed"> <img
                            src="https://member.ivivu.com/assets/img/dashboard_trips/cathay.png" /> Yêu cầu bảo hiểm
                          <img class="img-cathay" src="./assets/imgs/vector.svg"></span>
                        <ng-template #hadclaimed><img class="img-hadclaimed-fly"
                            src="./assets/imgs/icon_action_done.svg"><label>Đã yêu cầu</label></ng-template>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="div-child-insurrance m-top-16 m-r-3"
                  *ngIf="arrchildinsurrance && arrchildinsurrance.length >0">
                  <label class="cls-label-text">Trẻ em đi kèm</label>
                  <div *ngFor="let itemchild of arrchildinsurrance; let idx = index">
                    <div [ngClass]="idx==0 ? 'div-pax-lug m-top-8' : 'div-pax-lug m-top-27' ">
                      <div class="d-flex-insurrance">
                        <div class="pax-name">
                          <div class="div-text-pax-name">{{idx+1}}. <span
                              class="f-bold">{{itemchild.customer_name}}</span>
                            <span class="text-age" *ngIf="itemchild.customer_dob"> ({{itemchild.customer_dob}})</span>
                          </div>
                        </div>
                        <div class="div-cathay r8">
                          <span (click)="showActionSheetInsurrance(trip, itemchild, true)" class="text-cathay"
                            *ngIf="!itemchild.claimed else hadclaimed"> <img
                              src="https://member.ivivu.com/assets/img/dashboard_trips/cathay.png" /> Yêu cầu bảo
                            hiểm <img class="img-cathay" src="./assets/imgs/vector.svg"></span>
                          <ng-template #hadclaimed><img class="img-hadclaimed-fly"
                              src="./assets/imgs/icon_action_done.svg"><label>Đã yêu cầu</label></ng-template>
                        </div>
                      </div>
                      <div *ngIf="!itemchild.validChildDob" class="text-validchildage">
                        (Trẻ dưới 14 tuổi cần claim chung người lớn)
                      </div>
                    </div>
                  </div>
                </div>

                <div class="div-split-panel"></div>

                <div class="insurrance-contact p-bottom-8 padding-insurrance-contact"
                  (click)="makeCallSupport(084838298520)">
                  <div class="insurrance-contact-name"><label class="item-text">Bảo hiểm tai nạn <span
                        class="text-support-center">+84838298520</span></label></div>
                  <div class="insurrance-contact-arrow s-text img-call">
                    <img class="img-support" src="./assets/imgs/ic_call.svg">
                  </div>
                </div>

                <div class="insurrance-contact" (click)="showInsurranceInfo()">
                  <div class="insurrance-contact-name"><label class="item-text">Bảo hiểm du lịch và chuyến bay</label>
                  </div>

                  <div class="insurrance-contact-arrow s-text text-right w-24">
                    <!-- <ion-icon class="icon-arrow-right" item-end name="ios-arrow-round-forward"></ion-icon> -->
                    <img class="cls-icon-img " src="./assets/imgs/ic_arrow_grey.svg">
                  </div>
                </div>


              </div>


            </div>
          </ng-template>
          
        </ng-template>

      </div>

      <ng-template #bookingtourdetail>
        <div class="first-content item-booking-tour-detail">
          <ion-item-group>


            <div class="item-room padding-0 " *ngIf="!trip.isFlyBooking && !trip.bookingOffType">
              <div class="div-wrapimg">
                <div *ngIf="trip.avatar else noavatar">
                  <!-- <img *ngIf="trip.avatar.indexOf('http') == -1" class="img-avatar" src="https:{{trip.avatar}}">
                     <img *ngIf="trip.avatar.indexOf('i.travelapi.com') != -1" class="img-avatar" src="{{trip.avatar}}"> -->
                  <img class="img-avatar" src="{{trip.avatar}}">
                </div>
                <ng-template #noavatar>
                  <img class="img-avatar" src="https://cdn1.ivivu.com/iVivu/2018/02/07/15/noimage-104x104.png">
                </ng-template>
              </div>
              <div class="col-mytrip-text-description">
                <!-- Tên tour -->
                <div *ngIf="trip.hotel_name">
                  <ion-label class="label-tourname">{{trip.hotel_name}}
                    <span class="trip-star" *ngIf="trip.RatingStar"><img *ngIf="trip.RatingStar!=0"
                        src={{trip.RatingStar}}></span>
                  </ion-label>
                </div>
                <div class="text-left">
                  <!-- Ngày khởi hành -->
                  <div *ngIf="trip.checkInDate" class="d-flex m-top-4">
                    <div class="div-icon"><img class="icon-tour-detail" src="./assets/ic_tour/ic_date.svg"></div>
                    <div class="div-text">{{trip.tourCheckinDisplay}}</div>
                  </div>
                  <!-- Pax -->
                  <div *ngIf="trip.checkInDate" class="d-flex m-top-4">
                    <div class="div-icon"><img style="height:12px" src="./assets/imgs/ic_people.svg"></div>
                    <div class="div-text div-maxwidth">{{trip.totalPaxStr}} <span
                        *ngIf="trip.textChildDisplay">{{trip.textChildDisplay}}</span><span
                        *ngIf="trip.childAgesDisplay"> {{trip.childAgesDisplay}}</span></div>
                  </div>

                </div>
              </div>
            </div>

          </ion-item-group>
          <div class="div-tour-pax" *ngIf="trip.tourListPax">
            <div *ngFor="let tourpax of trip.tourListPax; let idx = index">
              <div [ngClass]="idx >0? 'd-flex m-top-8' : 'd-flex'">
                <div class="text-pax div-width-250">{{tourpax}}<span *ngIf="idx == 1 && trip.child_price_net">
                    {{trip.child_ages}}</span></div>
                <div class="text-price text-right div-width-150" *ngIf="idx == 0 && trip.adult_price_net">
                  {{gf.convertNumberToString(trip.adult_price_net)}} VND</div>
                <div class="text-price text-right div-width-150" *ngIf="idx == 1 && trip.child_price_net">
                  {{gf.convertNumberToString(trip.child_price_net)}} VND</div>
              </div>
              <!-- <div class="text-pax m-lr-5" *ngIf="idx == 1 && trip.child_price_net">{{trip.child_ages}}</div> -->
            </div>
            <div *ngIf="trip.deal_no && trip.promotionDiscountAmount" class="d-flex m-top-8">
              <div class="text-pax div-width-250">Ưu đãi</div>
              <div class="text-price text-right div-width-150">
                {{gf.convertNumberToString(trip.promotionDiscountAmount)}} VND</div>
            </div>
            <div class="d-flex m-top-8" *ngIf="trip.payment_fee">
              <div class="text-pax div-width-250">
                Phí tiện ích
              </div>
              <div class="text-price text-right div-width-100">
                {{gf.convertNumberToString(trip.payment_fee)}} VND
              </div>
            </div>
            <div class="div-line-tour"></div>

            <div class="d-flex">
              <div class="text-pax div-width-250 p-top-4">Tổng cộng
                <span *ngIf="(trip.payment_status == 5 || trip.payment_status == 1) else notpayment" class="text-bold">
                  - Đã thanh toán</span>
                <ng-template #notpayment><span class="text-red text-bold"> - Chờ thanh toán</span></ng-template>
              </div>
              <div
                [ngClass]="(trip.payment_status == 5 || trip.payment_status == 1) ? 'text-price text-bold div-width-150 text-right' : 'text-price text-bold div-width-150 text-right text-orange f-18'">
                {{ gf.convertNumberToString(trip.amount_after_tax) }} <span
                  [ngClass]="(trip.payment_status == 5 || trip.payment_status == 1) ? 'f-13' : 'text-orange f-13' ">VND</span>
              </div>
            </div>
            <div class="text-sub" *ngIf="!trip.exclude_vat">(Giá đã bao gồm thuế & phí dịch vụ)</div>
          </div>

          <div *ngIf="trip.itemTourDetail else loadingtourdetail" class="div-item-tour-detail">

            <div *ngIf="trip.itemTourDetail.IncludePrice">
              <div class="d-flex m-top-8" (click)="expandDiv(1)" id="contentIncludePrice">
                <div class="text-tour-detail-title div-width-100">Giá bao gồm</div>
                <div class="div-width-10 div-icon-tour " *ngIf="expandDivIncludePrice"><img
                    src="./assets/ic_tour/collapse.svg"></div>
                <div class="div-width-10 div-icon-tour" *ngIf="!expandDivIncludePrice"><img
                    src="./assets/ic_tour/expand.svg"></div>
              </div>
              <div class="div-wrap-includeprice div-collapse">
                <div *ngIf="trip.itemTourDetail.IncludePrice" class="text-detail m-lr-5"
                  [innerHTML]="trip.itemTourDetail.IncludePrice"></div>
                <div class="text-tour-detail-subtitle " *ngIf="trip.itemTourDetail.NoIncludePrice">Giá không bao gồm
                </div>
                <div class="m-lr-5 text-detail" *ngIf="trip.itemTourDetail.NoIncludePrice"
                  [innerHTML]="trip.itemTourDetail.NoIncludePrice"></div>
              </div>

            </div>


            <div *ngIf="trip.itemTourDetail.ProgramContent">
              <div class="div-line-tour"></div>
              <div class="d-flex" (click)="showTourInfo()">
                <div class="text-tour-detail-title div-width-100">Thông tin tour</div>
                <div class="div-width-10 div-icon-tour"><img src="./assets/ic_tour/expand.svg"></div>
              </div>
              <!-- <div class="m-lr-5 text-detail div-wrap-tourinfo div-collapse" *ngIf="trip.itemTourDetail.ProgramContent" [innerHTML]="trip.itemTourDetail.ProgramContent"></div> -->
            </div>

            <div *ngIf="trip.itemTourDetail.Notes" (click)="expandDiv(3)">
              <div class="div-line-tour"></div>
              <div class="d-flex">
                <div class="text-tour-detail-title div-width-100" id="contentTourNotes">Lưu ý</div>
                <div class="div-width-10 div-icon-tour " *ngIf="expandDivTourNotes"><img
                    src="./assets/ic_tour/collapse.svg"></div>
                <div class="div-width-10 div-icon-tour" *ngIf="!expandDivTourNotes"><img
                    src="./assets/ic_tour/expand.svg"></div>
              </div>
              <div class="m-lr-5 text-detail div-wrap-tournotes div-collapse" *ngIf="trip.itemTourDetail.Notes"
                [innerHTML]="trip.itemTourDetail.Notes"></div>
            </div>

            <div>
              <div class="div-line-tour"></div>
              <div class="d-flex" (click)="nextSupport(trip)" id="contentTourSupport">
                <div class="text-tour-detail-title div-width-100">Liên hệ hỗ trợ</div>
                <div class="div-width-10 div-icon-tour"><img src="./assets/ic_tour/expand.svg"></div>
              </div>

            </div>

          </div>
          <ng-template #loadingtourdetail>
            <ion-skeleton-text animated class="text-menu" style="height: 36px;margin: 8px 0;"></ion-skeleton-text>
            <ion-skeleton-text animated class="text-menu" style="height: 36px;margin: 8px 0;"></ion-skeleton-text>
            <ion-skeleton-text animated class="text-menu" style="height: 36px;margin: 8px 0;"></ion-skeleton-text>
            <ion-skeleton-text animated class="text-menu" style="height: 36px;margin: 8px 0;"></ion-skeleton-text>
          </ng-template>

        </div>
      </ng-template>

    </div>
    <!-- Booking Flight -->
    <div [ngClass]="!(trip.isBookingVMBQT && trip.isTravelPort) ? 'div-flighttrip m-l-8' : 'div-flighttrip'"
      *ngIf="!trip.isRequestTrip && trip.isFlyBooking">
      <!-- bkg VMBQT -->
      <div class="div-VMBQT div-flybooking div-detail-booking" *ngIf="(trip.isBookingVMBQT && trip.isTravelPort) else otherbooking">

        <div class="div-waiting-payment"
          *ngIf="!(trip.payment_status == 1 || trip.payment_status == 5) && trip.delivery_payment_date_display">
          <label class="label-waiting-payment">Chờ thanh toán tới <span
              class="text-time-payment">{{trip.time_payment}}</span> ngày <span
              class="text-time-payment">{{trip.date_payment}}</span></label>
        </div>

        <div *ngFor="let itembkg of bookingjson; let idxbkg = index">
          <div *ngFor="let itemtransit of itembkg.Transits; let idxtransit = index">
            <div [ngClass]="idxtransit > 0 ? 'd-flex m-top-' : 'd-flex'">
              <div class="flight-info">
                <div class="div-datetime">{{itemtransit.cindisplay}}</div>
                <div class="div-flightnumber"><img class="icon-copy" [src]="itemtransit.Logo">
                  {{itemtransit.FlightNumber }} - {{itemtransit.TicketClass }}</div>
              </div>
              <div *ngIf="(trip.payment_status == 1 || trip.payment_status == 5)" class="ticket-code">
                <div class="div-text-code">Mã đặt chỗ</div>
                <div class="d-flex div-code" (click)="copyClipboard(itembkg.TicketCode)">
                  <div class="text-code">{{ itembkg.TicketCode }}</div>
                  <div class="div-icon">
                    <img class="icon-copy" src="./assets/ic_flight_international/copy.svg">
                  </div>
                </div>
              </div>
            </div>



            <div class="div-departure m-top-16">
              <div class="div-time-departure ">
                <div>{{itemtransit.DepartTimeDisplay}}</div>
                <div class="text-day-departure">{{itemtransit.DepartDayDisplay}}</div>
              </div>
              <div class="div-info-departure">
                <div class="text-place">{{itemtransit.FromPlaceName}}</div>
                <div class="text-placecode">{{ itemtransit.departAirport}} | {{ itemtransit.FromPlaceCode }}</div>
              </div>
              <div class="placepoint" style="top:33%">
              </div>
              <div class="placeline">
              </div>

            </div>

            <div class="div-return m-top-28">
              <div class="div-time-landing ">
                <div>{{itemtransit.LandingTimeDisplay}}</div>
                <div class="text-day-departure">{{itemtransit.LandingDayDisplay}}</div>
              </div>
              <div class="div-info-return">
                <div class="text-place">{{ itemtransit.ToPlaceName }}</div>
                <div class="text-placecode">{{ itemtransit.landingAirport }} | {{ itemtransit.ToPlaceCode }}</div>
              </div>
              <div class="placepoint-return">
              </div>
            </div>
            <div class="div-overlay" *ngIf="idxtransit != itembkg.Transits.length-1"><span
                *ngIf="itemtransit.timeOverlay">Quá cảnh {{ itemtransit.timeOverlay }} tại {{ itemtransit.ToPlaceName }}
                ({{ itemtransit.ToPlaceCode }})</span></div>
            <!-- </div>
           <div class="div-line-vmbqt" *ngIf="idxbkg != bookingjson.length-1"></div> -->

          </div>
          <div class="div-line-vmbqt" *ngIf="idxbkg != bookingjson.length-1"></div>
        </div>
        <!-- pax info -->
        <div class="div-split-panel"></div>
        <div *ngFor="let pax of trip.itemdepart.passengers; let idx = index">
          <div class="div-pax-lug">
            <div
              [ngClass]="idx==0 ? 'pax-name m-top-8' : (pax.arrlug && pax.arrlug.length >0) ? 'pax-name m-top-27' : ( (idx == trip.itemdepart.passengers.length -1 && trip.itemdepart.passengers[trip.itemdepart.passengers.length-2] && trip.itemdepart.passengers[trip.itemdepart.passengers.length-2].arrlug && trip.itemdepart.passengers[trip.itemdepart.passengers.length-2].arrlug.length >0 )? 'pax-name m-top-27' :  'pax-name m-top-8')">
              <label>{{pax.gender}}. <span class="f-bold">{{pax.name}}</span> <span class="text-age"
                  *ngIf="!pax.isAdult && pax.dob"> ({{pax.dob}})</span></label>
            </div>

          </div>
          <div *ngFor="let lugg of pax.arrlug">
            <div class="div-luggest d-flex">
              <div><img class="img-luggage" src="./assets/ic_flight/vali.svg"> </div>
              <div class="p-top-1">
                <span *ngIf="lugg.lugname">{{lugg.lugname}} </span>
                <span *ngIf="lugg.lugprice">
                  <span *ngIf="lugg.lugprice">| </span> {{lugg.lugweight}}
                </span>
                <span *ngIf="lugg.seatnumber" class="p-left-4"><span *ngIf="lugg.lugname || lugg.lugprice">| </span>
                  {{lugg.seatnumber}}</span>
              </div>
            </div>
          </div>
        </div>
        <!-- end pax info -->
        <!-- total info -->
        <div class="total-cost">
          <div class="d-flex">
            <div class="div-width-150">
              <div class="text-normal">{{flightRoundTripStr}}</div>
              <div class="text-sub">{{totalPaxStr}}</div>
            </div>
            <div class="div-width-100">
              <div class="text-normal text-align-right">{{gf.convertNumberToString(totalCost)}} VND</div>
            </div>
          </div>
          <div class="d-flex m-top-8" *ngIf="trip.payment_fee">
            <div class="text-info">
              Phí tiện ích
            </div>
            <div class="position-absolute text-info">
              {{gf.convertNumberToString(trip.payment_fee)}} VND
            </div>
          </div>
          <div class="div-line-total"></div>

          <div class="d-flex m-top-8"
            *ngIf="trip.promotionDiscountAmount&&trip.promotionDiscountAmount>0 && trip.ivivu_point>0">
            <div class="text-info">
              iVIVU point
            </div>
            <div class="position-absolute text-info">
              {{gf.numberToCurrency(trip.promotionDiscountAmount, '.')}} VND
            </div>
          </div>
          <div class="d-flex m-top-8"
            *ngIf="trip.promotionDiscountAmount&&trip.promotionDiscountAmount>0 && !trip.ivivu_point">
            <div class="text-info">
              Khuyến mãi
            </div>
            <div class="position-absolute text-info">
              {{gf.numberToCurrency(trip.promotionDiscountAmount, '.')}} VND
            </div>
          </div>
          <div class="d-flex m-top-8" *ngIf="trip.paid_amount&&trip.paid_amount>0&&amount_after_tax>0">
            <div class="text-info">
              Đã thanh toán trước
            </div>
            <div class="position-absolute text-info">
              {{gf.numberToCurrency(trip.paid_amount, '.')}} VND
            </div>
          </div>

          <div class="d-flex m-top-8">
            <div class="div-width-150">
              <div class="text-normal m-top-2">Tổng cộng
                <span class="f-bold" *ngIf="trip.payment_status == 5 || trip.payment_status == 1"> - Đã thanh
                  toán</span>
                <span class="f-bold text-red" *ngIf="!(trip.payment_status == 5 || trip.payment_status == 1)"> - Chờ
                  thanh toán</span>
              </div>
              <div class="text-sub">(Giá đã bao gồm thuế & phí dịch vụ)</div>
            </div>
            <div class="div-width-100"
              *ngIf="!trip.promotionDiscountAmount && !(trip.paid_amount && trip.paid_amount>0)">
              <div class="text-normal f-bold f-16 text-align-right"
                *ngIf="trip.payment_status == 5 || trip.payment_status == 1">{{gf.convertNumberToString(totalCost)}} VND
              </div>
              <div class="text-normal f-bold f-16 text-align-right text-orange"
                *ngIf="!(trip.payment_status == 5 || trip.payment_status == 1)">{{gf.convertNumberToString(totalCost)}}
                VND</div>
            </div>
            <div class="div-width-100"
              *ngIf="trip.promotionDiscountAmount && !(trip.paid_amount && trip.paid_amount>0)">
              <div class="text-normal f-bold f-16 text-align-right"
                *ngIf="(trip.payment_status == 5 || trip.payment_status == 1)">
                {{gf.convertNumberToString(trip.amount_after_tax)}} VND</div>
              <div class="text-normal f-bold f-16 text-align-right text-orange"
                *ngIf="!(trip.payment_status == 5 || trip.payment_status == 1)">
                {{gf.convertNumberToString(trip.amount_after_tax)}} VND</div>
            </div>

            <div class="div-width-100" *ngIf="(trip.paid_amount && trip.paid_amount>0)">
              <div class="text-normal f-bold f-16 text-align-right"
                *ngIf="(trip.payment_status == 5 || trip.payment_status == 1)">
                {{gf.convertNumberToString(trip.amount_after_tax)}} VND</div>
              <div class="text-normal f-bold f-16 text-align-right text-orange"
                *ngIf="!(trip.payment_status == 5 || trip.payment_status == 1)">
                {{gf.convertNumberToString(trip.amount_after_tax - trip.paid_amount)}} VND</div>
            </div>
          </div>
        </div>
        <!-- end total info -->
        <!-- other info -->
        <div class="div-other-info">
          <div>
            <div class="d-flex h-36 div-condition" (click)="expandCondition()">
              <div class="div-width-250 v-align-center">
                <div class="text-title">Chi tiết vé</div>
              </div>
              <div class="div-width-50 v-align-center">
                <div class="div-flex-end" *ngIf="!expanddivcondition">
                  <img class="img-expand" src="./assets/ic_flight_international/expand.svg">
                </div>
                <div class="div-flex-end" *ngIf="expanddivcondition">
                  <img class="img-expand" src="./assets/ic_flight_international/collaspe.svg">
                </div>

              </div>
            </div>
            <div
              *ngIf="dataSummaryBooking && ((dataSummaryBooking.departFlightData && departTicketInfo) || (dataSummaryBooking.returnFlightData && returnTicketInfo))"
              class="div-wrap-condition div-collapse">
              <div class="m-top-16"
                *ngIf="dataSummaryBooking.departFlightData && departTicketInfo && (departTicketInfo.addon || departTicketInfo.ticketCondition)">
                <div class="text-sub-title">
                  Chiều đi
                  {{dataSummaryBooking.departFlightData.fromPlaceCode}}-{{dataSummaryBooking.departFlightData.toPlaceCode}}
                </div>

                <div class="d-flex" *ngIf="dataSummaryBooking.departFlightData.ticketClass">
                  <div class="div-icon"><img class="icon-info" src="./assets/ic_flight_international/ticket.svg"></div>
                  <div class="text-normal">Hạng vé: {{dataSummaryBooking.departFlightData.ticketClass}}</div>
                </div>

                <div class="d-flex"
                  *ngIf="departTicketInfo && departTicketInfo.addon && departTicketInfo.addon.seatPosition">
                  <div class="div-icon"><img class="icon-info"
                      src="./assets/ic_flight_international/airline_seat_recline.svg"></div>
                  <div class="text-normal" *ngIf="departTicketInfo.addon.seatPosition == 'Standard'">Ghế tựa tiêu chuẩn
                  </div>
                  <div class="text-normal" *ngIf="departTicketInfo.addon.seatPosition == 'Recliner'">Ghế tựa nghiêng bổ
                    sung</div>
                  <div class="text-normal" *ngIf="departTicketInfo.addon.seatPosition == 'Flat Bed'">Ghế nằm phẳng</div>
                  <div class="text-normal" *ngIf="departTicketInfo.addon.seatPosition == 'Angle Lie Flat'">Ghế nằm phẳng
                    có góc nghiêng</div>
                  <div class="text-normal" *ngIf="departTicketInfo.addon.seatPosition == 'Closed Suite'">Buồng cá nhân
                  </div>
                  <div class="text-normal" *ngIf="departTicketInfo.addon.seatPosition == 'Open Suite'">Buồng cá nhân
                  </div>
                </div>

                <div class="d-flex" *ngIf="departTicketInfo.addon && departTicketInfo.addon.seatSpace">
                  <div class="div-icon"><img class="icon-info"
                      src="./assets/ic_flight_international/airline_seat_legroom_extra.svg"></div>
                  <div class="text-normal" *ngIf="departTicketInfo.addon.seatSpace">{{departTicketInfo.addon.seatSpace}}
                  </div>
                </div>

                <div class="d-flex" *ngIf="departTicketInfo.addon && departTicketInfo.addon.mealAndBeverage">
                  <div class="div-icon"><img class="icon-info" src="./assets/ic_flight_international/restaurant.svg">
                  </div>
                  <div class="text-normal">{{departTicketInfo.addon.mealAndBeverage}}</div>
                </div>
                <div class="d-flex"
                  *ngIf="departTicketInfo.ticketCondition && departTicketInfo.ticketCondition.seat && departTicketInfo.ticketCondition.seat.indexOf('Không') == -1">
                  <div class="div-icon"><img class="icon-info" src="./assets/ic_flight_international/info.svg"></div>
                  <div class="text-normal">Chọn ghế: {{departTicketInfo.ticketCondition.seat}}</div>
                </div>

                <div class="d-flex"
                  *ngIf="departTicketInfo.ticketCondition && departTicketInfo.ticketCondition.baggageHanded">
                  <div class="div-icon"><img class="icon-info" src="./assets/ic_flight_international/work_outline.svg">
                  </div>
                  <div class="text-normal">Hành lý xách tay: {{departTicketInfoCRM && departTicketInfoCRM.BaggageHanded? departTicketInfoCRM.BaggageHanded : departTicketInfo.ticketCondition.baggageHanded}}</div>
                </div>

                <div class="d-flex"
                  *ngIf="departTicketInfo.ticketCondition && departTicketInfo.ticketCondition.luggageSigned">
                  <div class="div-icon"><img class="icon-info" src="./assets/ic_flight_international/work_outline.svg">
                  </div>
                  <div class="text-normal">Hành lý ký gửi: {{departTicketInfoCRM && departTicketInfoCRM.LuggageSigned? departTicketInfoCRM.LuggageSigned : departTicketInfo.ticketCondition.luggageSigned}}</div>
                </div>

                <div class="d-flex" *ngIf="departTicketInfo.addon && departTicketInfo.addon.bonusMiles">
                  <div class="div-icon"><img class="icon-info" src="./assets/ic_flight_international/plus_mil.svg">
                  </div>
                  <div class="text-normal">Số dặm thưởng: {{departTicketInfo.addon.bonusMiles}}</div>
                </div>

                <div class="d-flex"
                  *ngIf="departTicketInfo.ticketCondition && departTicketInfo.ticketCondition.upgradeTicket">
                  <div class="div-icon">
                    <img class="icon-info"
                      *ngIf="departTicketInfo.ticketCondition.upgradeTicket.toLowerCase().indexOf('miễn phí') !=-1
                                           || departTicketInfo.ticketCondition.upgradeTicket.toLowerCase().indexOf('nâng hạng với') !=-1"
                      src="./assets/ic_flight_international/check.svg">
                    <img class="icon-info"
                      *ngIf="departTicketInfo.ticketCondition.upgradeTicket.toLowerCase().indexOf('miễn phí') ==-1 && departTicketInfo.ticketCondition.upgradeTicket.toLowerCase().indexOf('nâng hạng với') ==-1"
                      src="./assets/ic_flight_international/monetization.svg">
                  </div>
                  <div class="text-normal">Nâng hạng vé: {{departTicketInfo.ticketCondition.upgradeTicket}}</div>
                </div>

                <div class="d-flex"
                  *ngIf="departTicketInfo.addon && departTicketInfo.addon.lounge && departTicketInfo.addon.lounge.toLowerCase().indexOf('không có') == -1">
                  <div class="div-icon"><img class="icon-info" src="./assets/ic_flight_international/breakfast.svg">
                  </div>
                  <div class="text-normal">{{departTicketInfo.addon.lounge}}</div>
                </div>

                <div class="d-flex"
                  *ngIf="departTicketInfo.ticketCondition && departTicketInfo.ticketCondition.priorityCI">
                  <div class="div-icon"><img class="icon-info" src="./assets/ic_flight_international/checkin.svg"></div>
                  <div class="text-normal">Checkin riêng</div>
                </div>
                <div class="d-flex"
                  *ngIf="departTicketInfo.ticketCondition && departTicketInfo.ticketCondition.priorityBoarding">
                  <div class="div-icon"><img class="icon-info" src="./assets/ic_flight_international/boarding.svg">
                  </div>
                  <div class="text-normal">Boarding ưu tiên</div>
                </div>

                <div class="d-flex"
                  *ngIf="departTicketInfo.ticketCondition && departTicketInfo.ticketCondition.airlineSeatIndividualSuite">
                  <div class="div-icon"><img class="icon-info"
                      src="./assets/ic_flight_international/airline_seat_individual_suite.svg"></div>
                  <div class="text-normal">Buồng cá nhân</div>
                </div>
              </div>

              <div class="m-top-16"
                *ngIf="dataSummaryBooking.returnFlightData && returnTicketInfo && (returnTicketInfo.addon || returnTicketInfo.ticketCondition)">
                <div class="text-sub-title">
                  Chiều về
                  {{dataSummaryBooking.returnFlightData.fromPlaceCode}}-{{dataSummaryBooking.returnFlightData.toPlaceCode}}
                </div>

                <div class="d-flex" *ngIf="dataSummaryBooking.returnFlightData.ticketClass">
                  <div class="div-icon"><img class="icon-info" src="./assets/ic_flight_international/ticket.svg"></div>
                  <div class="text-normal">Hạng vé: {{dataSummaryBooking.returnFlightData.ticketClass}}</div>
                </div>

                <div class="d-flex"
                  *ngIf="returnTicketInfo && returnTicketInfo.addon && returnTicketInfo.addon.seatPosition">
                  <div class="div-icon"><img class="icon-info"
                      src="./assets/ic_flight_international/airline_seat_recline.svg"></div>
                  <div class="text-normal" *ngIf="returnTicketInfo.addon.seatPosition == 'Standard'">Ghế tựa tiêu chuẩn
                  </div>
                  <div class="text-normal" *ngIf="returnTicketInfo.addon.seatPosition == 'Recliner'">Ghế tựa nghiêng bổ
                    sung</div>
                  <div class="text-normal" *ngIf="returnTicketInfo.addon.seatPosition == 'Flat Bed'">Ghế nằm phẳng</div>
                  <div class="text-normal" *ngIf="returnTicketInfo.addon.seatPosition == 'Angle Lie Flat'">Ghế nằm phẳng
                    có góc nghiêng</div>
                  <div class="text-normal" *ngIf="returnTicketInfo.addon.seatPosition == 'Closed Suite'">Buồng cá nhân
                  </div>
                  <div class="text-normal" *ngIf="returnTicketInfo.addon.seatPosition == 'Open Suite'">Buồng cá nhân
                  </div>
                </div>

                <div class="d-flex" *ngIf="returnTicketInfo.addon && returnTicketInfo.addon.seatSpace">
                  <div class="div-icon"><img class="icon-info"
                      src="./assets/ic_flight_international/airline_seat_legroom_extra.svg"></div>
                  <div class="text-normal" *ngIf="returnTicketInfo.addon.seatSpace">{{returnTicketInfo.addon.seatSpace}}
                  </div>
                </div>

                <div class="d-flex" *ngIf="returnTicketInfo.addon && returnTicketInfo.addon.mealAndBeverage">
                  <div class="div-icon"><img class="icon-info" src="./assets/ic_flight_international/restaurant.svg">
                  </div>
                  <div class="text-normal">{{returnTicketInfo.addon.mealAndBeverage}}</div>
                </div>
                <div class="d-flex"
                  *ngIf="returnTicketInfo.ticketCondition && returnTicketInfo.ticketCondition.seat && returnTicketInfo.ticketCondition.seat.indexOf('Không') == -1">
                  <div class="div-icon"><img class="icon-info" src="./assets/ic_flight_international/info.svg"></div>
                  <div class="text-normal">Chọn ghế: {{returnTicketInfo.ticketCondition.seat}}</div>
                </div>

                <div class="d-flex"
                  *ngIf="returnTicketInfo.ticketCondition && returnTicketInfo.ticketCondition.baggageHanded">
                  <div class="div-icon"><img class="icon-info" src="./assets/ic_flight_international/work_outline.svg">
                  </div>
                  <div class="text-normal">Hành lý xách tay: {{returnTicketInfoCRM && returnTicketInfoCRM.BaggageHanded? returnTicketInfoCRM.BaggageHanded : returnTicketInfo.ticketCondition.baggageHanded}}</div>
                </div>

                <div class="d-flex"
                  *ngIf="returnTicketInfo.ticketCondition && returnTicketInfo.ticketCondition.luggageSigned">
                  <div class="div-icon"><img class="icon-info" src="./assets/ic_flight_international/work_outline.svg">
                  </div>
                  <div class="text-normal">Hành lý ký gửi: {{returnTicketInfoCRM && returnTicketInfoCRM.LuggageSigned? returnTicketInfoCRM.LuggageSigned : returnTicketInfo.ticketCondition.luggageSigned}}</div>
                </div>

                <div class="d-flex" *ngIf="returnTicketInfo.addon && returnTicketInfo.addon.bonusMiles">
                  <div class="div-icon"><img class="icon-info" src="./assets/ic_flight_international/plus_mil.svg">
                  </div>
                  <div class="text-normal">Số dặm thưởng: {{returnTicketInfo.addon.bonusMiles}}</div>
                </div>

                <div class="d-flex"
                  *ngIf="returnTicketInfo.ticketCondition && returnTicketInfo.ticketCondition.upgradeTicket">
                  <div class="div-icon">
                    <!-- <img class="icon-info" src="./assets/ic_flight_international/check.svg" > -->
                    <img class="icon-info" *ngIf="returnTicketInfo.ticketCondition.upgradeTicket.toLowerCase().indexOf('miễn phí') !=-1
                         || returnTicketInfo.ticketCondition.upgradeTicket.toLowerCase().indexOf('nâng hạng với') !=-1"
                      src="./assets/ic_flight_international/check.svg">
                    <img class="icon-info"
                      *ngIf="returnTicketInfo.ticketCondition.upgradeTicket.toLowerCase().indexOf('miễn phí') ==-1 && returnTicketInfo.ticketCondition.upgradeTicket.toLowerCase().indexOf('nâng hạng với') ==-1"
                      src="./assets/ic_flight_international/monetization.svg">
                  </div>
                  <div class="text-normal">Nâng hạng vé: {{returnTicketInfo.ticketCondition.upgradeTicket}}</div>
                </div>

                <div class="d-flex"
                  *ngIf="returnTicketInfo.addon && returnTicketInfo.addon.lounge && returnTicketInfo.addon.lounge.toLowerCase().indexOf('không có') == -1">
                  <div class="div-icon"><img class="icon-info" src="./assets/ic_flight_international/breakfast.svg">
                  </div>
                  <div class="text-normal">{{returnTicketInfo.addon.lounge}}</div>
                </div>

                <div class="d-flex"
                  *ngIf="returnTicketInfo.ticketCondition && returnTicketInfo.ticketCondition.priorityCI">
                  <div class="div-icon"><img class="icon-info" src="./assets/ic_flight_international/checkin.svg"></div>
                  <div class="text-normal">Checkin riêng</div>
                </div>
                <div class="d-flex"
                  *ngIf="returnTicketInfo.ticketCondition && returnTicketInfo.ticketCondition.priorityBoarding">
                  <div class="div-icon"><img class="icon-info" src="./assets/ic_flight_international/boarding.svg">
                  </div>
                  <div class="text-normal">Boarding ưu tiên</div>
                </div>

                <div class="d-flex"
                  *ngIf="returnTicketInfo.ticketCondition && returnTicketInfo.ticketCondition.airlineSeatIndividualSuite">
                  <div class="div-icon"><img class="icon-info"
                      src="./assets/ic_flight_international/airline_seat_individual_suite.svg"></div>
                  <div class="text-normal">Buồng cá nhân</div>
                </div>
              </div>

            </div>

            <!-- <div *ngIf="loadingdepartdetailticket">
                   <div *ngFor="let item of listsdk; let idx = index">
                     <ion-skeleton-text animated style="width: 100%;height: 40px;margin: 8px 0"></ion-skeleton-text>
                   </div>
                 </div> -->

            <div class="div-line-total"></div>

            <div class="d-flex h-36" (click)="expandRefund()">
              <div class="div-width-250 v-align-center">
                <div class="text-title">Điều kiện hoàn hủy</div>
              </div>
              <div class="div-width-50 v-align-center">
                <div class="div-flex-end" *ngIf="!expanddivrefund">
                  <img class="img-expand" src="./assets/ic_flight_international/expand.svg">
                </div>
                <div class="div-flex-end" *ngIf="expanddivrefund">
                  <img class="img-expand" src="./assets/ic_flight_international/collaspe.svg">
                </div>
              </div>
            </div>
            <div *ngIf="listpolicy && listpolicy.length >0" class="div-wrap-refund div-collapse">
              <div *ngIf="hasdepartpolicy && trip.bookingsComboData[0]">
                <div class="text-sub-title m-top-16">
                  Chiều đi {{trip.bookingsComboData[0].departCode}}-{{trip.bookingsComboData[0].arrivalCode}}
                </div>
                <div *ngFor="let policy of listpolicy">
                  <div class="d-flex" *ngIf="policy.isdepart">
                    <div class="div-icon">
                      <img
                        *ngIf=" policy.name.toLowerCase().indexOf('không') ==-1 && policy.name.toLowerCase().indexOf('miễn phí') ==-1"
                        class="icon-info" src="./assets/ic_flight_international/monetization.svg">
                      <img *ngIf=" policy.name.toLowerCase().indexOf('miễn phí') !=-1" class="icon-info"
                        src="./assets/ic_flight_international/check.svg">
                      <img *ngIf=" policy.name.toLowerCase().indexOf('không') !=-1" class="icon-info"
                        src="./assets/ic_flight_international/disturb.svg">
                    </div>
                    <div class="text-normal" *ngIf="policy.typePolicy==1">{{(departTicketInfoCRM && departTicketInfoCRM.ChangeDepartTime ? 'Chính sách đổi chiều đi: '+ departTicketInfoCRM.ChangeDepartTime : policy.name)}}</div>
                    <div class="text-normal" *ngIf="policy.typePolicy==2">{{(departTicketInfoCRM && departTicketInfoCRM.TicketRefund ? 'Chính sách hủy chiều đi: '+ departTicketInfoCRM.TicketRefund : policy.name)}}</div>
                  </div>

                </div>
              </div>

              <div *ngIf="hasreturnpolicy && trip.bookingsComboData[1]">
                <div class="text-sub-title m-top-16">
                  Chiều về {{trip.bookingsComboData[1].departCode}}-{{trip.bookingsComboData[1].arrivalCode}}
                </div>
                <div *ngFor="let policy of listpolicy">
                  <div class="d-flex" *ngIf="!policy.isdepart">
                    <div class="div-icon">
                      <img
                        *ngIf=" policy.name.toLowerCase().indexOf('không') ==-1 && policy.name.toLowerCase().indexOf('miễn phí') ==-1"
                        class="icon-info" src="./assets/ic_flight_international/monetization.svg">
                      <img *ngIf=" policy.name.toLowerCase().indexOf('miễn phí') !=-1" class="icon-info"
                        src="./assets/ic_flight_international/check.svg">
                      <img *ngIf=" policy.name.toLowerCase().indexOf('không') !=-1" class="icon-info"
                        src="./assets/ic_flight_international/disturb.svg">
                    </div>
                    <div class="text-normal" *ngIf="policy.typePolicy==1">{{(returnTicketInfoCRM && returnTicketInfoCRM.ChangeDepartTime ? 'Chính sách đổi chiều về: ' + returnTicketInfoCRM.ChangeDepartTime : policy.name)}}</div>
                    <div class="text-normal" *ngIf="policy.typePolicy==2">{{(returnTicketInfoCRM && returnTicketInfoCRM.TicketRefund ? 'Chính sách hủy chiều về: '+ returnTicketInfoCRM.TicketRefund : policy.name)}}</div>
                  </div>

                </div>
              </div>

            </div>
            <!-- <div *ngIf="dataSummaryBooking && ((dataSummaryBooking.departFlightData && departTicketInfo) || (dataSummaryBooking.departFlightData && dataSummaryBooking.returnCondition))" class="div-wrap-refund div-collapse">

                   <div class="m-top-16" *ngIf="dataSummaryBooking.departFlightData && departTicketInfo && departTicketInfo.ticketCondition">
                       <div class="text-sub-title" >
                         Chiều đi {{dataSummaryBooking.departFlightData.fromPlaceCode}}-{{dataSummaryBooking.departFlightData.toPlaceCode}}
                       </div>

                     
                     <div class="d-flex" *ngIf="departTicketInfo && departTicketInfo.ticketCondition && departTicketInfo.ticketCondition.changeDepartTime">
                       <div class="div-icon">
                         <img *ngIf=" departTicketInfo.ticketCondition.changeDepartTime.toLowerCase().indexOf('không') ==-1 && departTicketInfo.ticketCondition.changeDepartTime.toLowerCase().indexOf('miễn phí') ==-1" class="icon-info" src="./assets/ic_flight_international/monetization.svg">
                         <img *ngIf=" departTicketInfo.ticketCondition.changeDepartTime.toLowerCase().indexOf('miễn phí') !=-1"class="icon-info" src="./assets/ic_flight_international/check.svg">
                         <img *ngIf=" departTicketInfo.ticketCondition.changeDepartTime.toLowerCase().indexOf('không') !=-1"class="icon-info" src="./assets/ic_flight_international/disturb.svg">
                       </div>
                       <div class="text-normal">Thay đổi vé: {{departTicketInfo.ticketCondition.changeDepartTime}}</div>
                     </div>
                   
                     
                         <div class="d-flex" *ngIf="departTicketInfo && departTicketInfo.ticketCondition && departTicketInfo.ticketCondition.ticketRefund">
                           <div class="div-icon">
                             <img *ngIf=" departTicketInfo.ticketCondition.ticketRefund.toLowerCase().indexOf('không') ==-1 && departTicketInfo.ticketCondition.ticketRefund.toLowerCase().indexOf('miễn phí') ==-1" class="icon-info" src="./assets/ic_flight_international/monetization.svg">
                             <img *ngIf=" departTicketInfo.ticketCondition.ticketRefund.toLowerCase().indexOf('miễn phí') !=-1"class="icon-info" src="./assets/ic_flight_international/check.svg">
                             <img *ngIf=" departTicketInfo.ticketCondition.ticketRefund.toLowerCase().indexOf('không') !=-1"class="icon-info" src="./assets/ic_flight_international/disturb.svg">
                           </div>
                           <div class="text-normal">Hủy vé: {{departTicketInfo.ticketCondition.ticketRefund}}</div>
                         </div>
                   </div>

                   <div class="m-top-16" *ngIf="dataSummaryBooking.returnCondition && returnTicketInfo && returnTicketInfo.ticketCondition">
                       <div class="text-sub-title" >
                         Chiều về {{dataSummaryBooking.returnFlightData.fromPlaceCode}}-{{dataSummaryBooking.returnFlightData.toPlaceCode}}
                       </div>

                     
                     <div class="d-flex" *ngIf="returnTicketInfo.ticketCondition && returnTicketInfo.ticketCondition.changeDepartTime">
                       <div class="div-icon">
                         <img *ngIf=" returnTicketInfo.ticketCondition.changeDepartTime.toLowerCase().indexOf('không') ==-1 && returnTicketInfo.ticketCondition.changeDepartTime.toLowerCase().indexOf('miễn phí') ==-1" class="icon-info" src="./assets/ic_flight_international/monetization.svg">
                         <img *ngIf=" returnTicketInfo.ticketCondition.changeDepartTime.toLowerCase().indexOf('miễn phí') !=-1"class="icon-info" src="./assets/ic_flight_international/check.svg">
                         <img *ngIf=" returnTicketInfo.ticketCondition.changeDepartTime.toLowerCase().indexOf('không') !=-1"class="icon-info" src="./assets/ic_flight_international/disturb.svg">
                       </div>
                       <div class="text-normal">Thay đổi vé: {{returnTicketInfo.ticketCondition.changeDepartTime}}</div>
                     </div>
                   
                     
                         <div class="d-flex" *ngIf="returnTicketInfo.ticketCondition && returnTicketInfo.ticketCondition.ticketRefund">
                           <div class="div-icon">
                             <img *ngIf=" returnTicketInfo.ticketCondition.ticketRefund.toLowerCase().indexOf('không') ==-1 && returnTicketInfo.ticketCondition.ticketRefund.toLowerCase().indexOf('miễn phí') ==-1" class="icon-info" src="./assets/ic_flight_international/monetization.svg">
                             <img *ngIf=" returnTicketInfo.ticketCondition.ticketRefund.toLowerCase().indexOf('miễn phí') !=-1"class="icon-info" src="./assets/ic_flight_international/check.svg">
                             <img *ngIf=" returnTicketInfo.ticketCondition.ticketRefund.toLowerCase().indexOf('không') !=-1"class="icon-info" src="./assets/ic_flight_international/disturb.svg">
                           </div>
                           <div class="text-normal">Hủy vé: {{returnTicketInfo.ticketCondition.ticketRefund}}</div>
                         </div>
                     </div>
                     
                     
                 </div> -->
            <div class="div-line-total"></div>

            <div class="d-flex h-36" (click)="openLinkCondition()">
              <div class="div-width-250 v-align-center">
                <div class="text-title">Hướng dẫn thủ tục hàng không</div>
              </div>
              <div class="div-width-50 v-align-center">
                <div class="div-flex-end">
                  <img class="img-expand" src="./assets/ic_flight_international/expand.svg">
                </div>
              </div>
            </div>
            <div *ngIf="!trip.hadCheckinOnline && trip.bookingjson && !trip.isBookingVMBQT && (trip.payment_status == 1 || trip.payment_status == 5) "  class="div-line-total"></div>
            <div *ngIf="!trip.hadCheckinOnline && trip.bookingjson && !trip.isBookingVMBQT && (trip.payment_status == 1 || trip.payment_status == 5) "  class="d-flex div-checkin-online-detail padding-bottom-20">
             
              <div class="div-text-checkin-online font-weight-500">Yêu cầu Checkin-Online</div>
              <div class="cls-toggle"><ion-toggle [disabled]="trip.bookingjson[0].RequestCheckin==1 || trip.ischeckinOnl" (ionChange)="checkinOnline(trip)" [checked]="trip.bookingjson[0].RequestCheckin==1"></ion-toggle></div>
            </div>
            <div *ngIf=" trip.bookingjson && !trip.isBookingVMBQT && (trip.payment_status == 1 || trip.payment_status == 5) "  class="text-note margin-16-detail">
              {{trip.textCheckinOnline}} 
          </div>
            <div class="div-line-total"></div>
            <div *ngIf="trip.isFlyBooking && trip.hadCheckinOnline"
              class="m-l-8 padding-bottom-20 div-checkin-online padding-0">
              <div class="d-flex">
                <div class="div-icon-check">
                  <img class="img-check" src="./assets/ic_mytripbooking/check.svg">
                </div>
                <div class="div-text-checkin">Đã có thẻ lên máy bay (Boarding Pass)</div>
              </div>

              <!-- <div class="div-icon-arrow">
                   <img  class="img-arrow"  src="./assets/ic_mytripbooking/ico_arrow.svg">
                 </div> -->
              <div *ngFor="let pass of trip.bookingjson[0].Passengers; let idx = index">
                <div class="d-flex align-items-end m-top-12"  *ngIf="pass.CheckinInfo && pass.CheckinInfo.indexOf('http') != -1">
                
                  <label class="witdh-204">{{pass.Gender}}. <span class="div-name">{{pass.Name}}</span> </label>
                  <img (click)="downloadimg(pass,trip)" src="./assets/ic_mytripbooking/download.svg">
                  <img (click)="share(pass)" class="m-left-8px" src="./assets/ic_mytripbooking/share.svg">
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- end other info -->

        <!-- payment info -->
        <div
          *ngIf="trip.delivery_payment_date_display && (trip.pay_method==0||trip.pay_method==5||trip.pay_method==10) && !(trip.payment_status == 1 || trip.payment_status == 5|| trip.payment_status == 9|| trip.payment_status == -2 ||trip.payment_status == 3)"
          class="div-btn-payment m-top-27">
          <div class="div-split-panel"></div>
          <button (click)="paymentselect(trip,1)" ion-button round outline class="button btn-payment">Thanh
            toán</button>
        </div>
        <div
          *ngIf="trip.delivery_payment_date_display&&!(trip.pay_method==0||trip.pay_method==5||trip.pay_method==10)&& !(trip.payment_status == 1 || trip.payment_status == 5|| trip.payment_status == 9|| trip.payment_status == -2 ||trip.payment_status == 3)"
          class="m-top-27">
          <div style="padding: 8px;" *ngIf="trip.pay_method==51||trip.pay_method==2">
            <div class="div-payment-combo-flight">
              <div class="div-payment-left">
                <div><label class="text-name" position="stacked">{{ trip.paxDisplay}}</label></div>
                <div class="div-text-fee"><label class="text-fee">Giá đã bao gồm thuế & phí dịch vụ</label></div>
              </div>
              <div class="div-price">
                <label class="total-price">
                  {{gf.numberToCurrency(trip.amount_after_tax, '.')}}đ
                </label>
              </div>
            </div>
            <div *ngIf="trip.booking_type == 'COMBO_FLIGHT' else notcomboflight">
              <label class="text-note">Quý khách thanh toán trước hạn thanh toán để đảm bảo tình trạng phòng và vé máy
                bay</label>
            </div>
            <ng-template #notcomboflight>
              <label *ngIf="trip.booking_type == 'TICKET'" class="text-note">Quý khách vui lòng thanh toán trước hạn thanh toán để đảm bảo vé vẫn còn.</label>
              <label *ngIf="trip.booking_type != 'TICKET'" class="text-note">Quý khách thanh toán trước hạn thanh toán để đảm bảo tình trạng phòng</label>
            </ng-template>
            <div  *ngIf="trip.booking_type == 'TICKET'">
              <label class="text-note">Khi quý khách nhấn nút "Thanh toán" cũng đồng nghĩa là quý khách đồng ý với các <a class="text-policy">điều kiện và chính sách</a> tthay đỗi hoặc hủy vé của iVIVU</label>
            </div>
            <div *ngIf="trip.booking_type != 'TICKET'" >
              <label class="text-note">Khi Quý khách nhấn nút “Thanh toán” cũng đồng nghĩa là Quý khách đã đồng ý với
                các <a class="text-policy">điều khoản và chính sách</a> thay đổi hoặc hủy đặt phòng.</label>
            </div>
            <div class="div-btn-payment">
              <button (click)="paymentselect(trip,1)" ion-button round outline class="button btn-payment">Thanh
                toán</button>
            </div>
          </div>
          <!-- Hình thức ck ngân hàng -->
          <div *ngIf="!(trip.pay_method==3||trip.pay_method==51||trip.pay_method==2)">
            <div class="div-split-panel"></div>
            <div class="div-qrcode m-top-24">
              <img class="img-qrcode" src="{{qrcodeurl}}">
            </div>
            <div class="div-btn-download m-top-16 d-flex" (click)="downloadqrcode(trip)">
              <div class="btn-download">
                <img class="img-download" src="./assets/imgs/download.svg">
              </div>
              <div class="text-download">Lưu mã để thanh toán</div>
            </div>

            <div class="d-flex-later m-top-16">
              <div class="d-img">
                <img src={{trip.urlimgbank}}>
              </div>
              <div class="div-center">
                <ion-label class="cls-text">
                  {{trip.bankName}}
                </ion-label>
              </div>
            </div>
            <div class="div-text-payment">
              <p class="text-payment-info" text-wrap>
                Số TK: <b>{{trip.accountNumber}}</b><a class='text-copy' (click)='copyClipboard(trip.accountNumber)'>Sao
                  chép</a>
              </p>
              <p class="text-payment-info">
                Người nhận: Công ty Cổ Phần IVIVU.COM<a class='text-copy'
                  (click)='copyClipboard("Người nhận: Công ty Cổ Phần IVIVU.COM")'>Sao chép</a>
              </p>
              <p class="text-payment-info" text-wrap>
                Nội dung chuyển tiền: <b class="text-booking text-red">{{trip.booking_id}}</b><a class='text-copy'
                  (click)='copyClipboard(trip.booking_id)'>Sao chép</a>
              </p>
              <p class="text-payment-info" text-wrap>
                Tổng tiền: <b class="text-bold"> {{gf.numberToCurrency(amount_after_tax, '.')}} VND</b><a
                  class='text-copy' (click)='copyClipboard(amount_after_tax)'>Sao chép</a>
              </p>
            </div>

          </div>
          <!-- payoo tại của hàng -->
          <div *ngIf="trip.pay_method==3" class="d-flex-later">
            <p class="text-payment-info" text-wrap>
              Mã thanh toán Payoo: {{trip.PaymentCode}}, số tiền: <b
                class="text-bold">{{gf.numberToCurrency(amount_after_tax, '.')}} VND</b>
            </p>
          </div>
          <div *ngIf="!(trip.pay_method==51||trip.pay_method==2)" class="mt16 mbt16">
            <label class="text-other">Hoặc thanh toán bằng phương thức khác</label>
          </div>
          <div *ngIf="!(trip.pay_method==3||trip.pay_method==51||trip.pay_method==2)" class="div-btn-payment">
            <button (click)="paymentselect(trip,0)" ion-button round outline class="button btn-payment">Đổi phương thức
              thanh toán</button>
          </div>
          <div *ngIf="trip.pay_method==3" class="div-btn-payment">
            <button (click)="paymentselect(trip,1)" ion-button round outline class="button btn-payment">Đổi phương thức
              thanh toán</button>
          </div>
        </div>



      </div>
      <ng-template #otherbooking>
        <div class="div-mytrip">
          <div class="first-content padding-left-0">
            <ion-item-group>
              <!-- Vùng booking fly -->
              <div>
                <div class="div-delivery_payment div-marginpayment"
                  *ngIf="trip.payment_status == 0 && trip.delivery_payment_date_display">
                  Chờ thanh toán tới <span class="text-waitpayment">{{ trip.delivery_payment_time_display}}</span> ngày
                  <span class="text-waitpayment">{{ trip.delivery_payment_date_display}}</span>
                </div>
                <div class="div-flybooking">
                  <div *ngIf="!ischeckStops">
                    <!-- Chiều đi -->
                    <div>
                      <div class="d-flex text-thin m-0">
                        <div class="div-gird ">
                          <div class="div-width-100">{{ trip.checkInDisplay }}</div>
                          <div class="d-flex m-top-6">
                            <div class="div-width-200 d-flex">
                              <div class="div-img-logo-new">
                                <img class="img-logo-new" *ngIf="trip.itemdepart.airlineName.indexOf('VIETJET') != -1 "
                                  src="./assets/ic_airticket/vj.png">
                                <img class="img-logo-new logo_vna"
                                  *ngIf="(trip.itemdepart.airlineName.indexOf('Vietnam Airlines') != -1  || trip.itemdepart.airlineName.indexOf('VIETNAM AIRLINES') != -1 ) && !trip.operatedBy "
                                  src="./assets/ic_airticket/vna.png">
                                <img class="img-logo-new logo_vna"
                                  *ngIf="(trip.itemdepart.airlineName.indexOf('Vietnam Airlines') != -1  || trip.itemdepart.airlineName.indexOf('VIETNAM AIRLINES') != -1 ) && trip.operatedBy"
                                  src="./assets/ic_airticket/vna.png">
                                <img class="img-logo-new" *ngIf="trip.itemdepart.airlineName.indexOf('JETSTAR') != -1"
                                  src="./assets/ic_airticket/ic_jetstar_b.png">
                                <img class="img-logo-new" *ngIf="trip.itemdepart.airlineName.indexOf('BAMBOO') != -1 "
                                  src="./assets/ic_airticket/bb.png">

                              </div>
                              <div *ngIf="trip.itemdepart.flightNumner && !trip.itemdepart.flightNumberNew"
                                class="div-ticket div-overflow-ticket">{{trip.itemdepart.flightNumner }} - {{trip.itemdepart.ticketClass }}
                              </div>
                              <div *ngIf="trip.itemdepart.flightNumberNew" class="div-ticket div-overflow-ticket">
                                {{trip.itemdepart.flightNumberNew }} - {{trip.itemdepart.ticketClass }}
                              </div>
                            </div>

                          </div>
                        </div>
                        <div *ngIf="(trip.payment_status == 1 || trip.payment_status == 5)" class="div-gird div-pnr">
                          <div class="padding-5-8">
                            <div class="text-center">
                              <div class="text-info">Mã đặt chỗ</div>
                            </div>
                            <div class="d-flex" *ngIf="trip.itemdepart.ticketCode.indexOf('T__') == -1">
                              <div class="text-hold-ticket">{{ trip.itemdepart.ticketCode }}</div>
                              <img (click)="copyClipboard(trip.itemdepart.ticketCode)" class="img-copy"
                                src="./assets/imgs/ic_copy.png">
                            </div>

                          </div>
                        </div>
                      </div>
                      <div class="m-top-14 d-flex">
                        <div *ngIf="trip.itemdepart.departureTime && !trip.itemdepart.departureTimeNew"
                          class="text-time-depart">
                          {{trip.itemdepart.departureTime}}
                        </div>
                        <div *ngIf="trip.itemdepart.departureTimeNew" class="text-time-depart">
                          {{trip.itemdepart.departureTimeNew}}
                        </div>
                        <div class="placepoint">
                        </div>
                        <div class="m-l-6">
                          <div class="text-info font-weight-500">{{trip.flightFrom}}</div>
                          <div class="text-name-airport m-0">{{ trip.departAirport}} | {{ trip.itemdepart.departCode }}
                          </div>
                        </div>
                      </div>
                      <div
                        [ngClass]="trip.payment_status == 0 && trip.delivery_payment_date_display?'placeline-waitpayment':'placeline'">
                      </div>
                      <div class="d-flex" style="margin-top: 16px">
                        <div class="text-time-return">
                          {{trip.itemdepart.arrivalTime}}
                        </div>
                        <div class="placepoint">
                        </div>
                        <div class="m-l-6">
                          <div class="text-info font-weight-500">{{trip.flightTo}}</div>
                          <div class="text-name-airport m-0">{{ trip.returnAirport}} | {{ trip.itemdepart.arrivalCode }}
                          </div>
                        </div>
                      </div>

                    </div>
                    <!-- Chiều về -->
                    <div
                      *ngIf="trip.textReturn && trip.bookingsComboData[1].airlineCode && trip.bookingsComboData[1].airlineName.toLowerCase().indexOf('cathay') == -1 && ['GO', 'RETURN', 'GOROUNDTRIP', 'RETURNROUNDTRIP'].indexOf(trip.bookingsComboData[1].trip_Code) == -1 ">
                      <div class="div-split"></div>

                      <div class="d-flex text-thin m-0">
                        <div class="div-gird ">
                          <div class="div-width-100">{{ trip.checkOutDisplay }}</div>
                          <div class="d-flex m-top-6">
                            <div class="div-width-200 d-flex">
                              <div class="div-img-logo-new">
                                <img class="img-logo-new" *ngIf="trip.itemreturn.airlineName.indexOf('VIETJET') != -1 "
                                  src="./assets/ic_airticket/vj.png">
                                <img class="img-logo-new logo_vna"
                                  *ngIf="(trip.itemreturn.airlineName.indexOf('Vietnam Airlines') != -1  || trip.itemreturn.airlineName.indexOf('VIETNAM AIRLINES') != -1 ) && !trip.operatedBy "
                                  src="./assets/ic_airticket/vna.png">
                                <img class="img-logo-new logo_vna"
                                  *ngIf="(trip.itemreturn.airlineName.indexOf('Vietnam Airlines') != -1  || trip.itemreturn.airlineName.indexOf('VIETNAM AIRLINES') != -1 ) && trip.operatedBy"
                                  src="./assets/ic_airticket/vna.png">
                                <img class="img-logo-new" *ngIf="trip.itemreturn.airlineName.indexOf('JETSTAR') != -1"
                                  src="./assets/ic_airticket/ic_jetstar_b.png">
                                <img class="img-logo-new" *ngIf="trip.itemreturn.airlineName.indexOf('BAMBOO') != -1 "
                                  src="./assets/ic_airticket/bb.png">

                              </div>
                              <div *ngIf="trip.itemreturn.flightNumner && !trip.itemreturn.flightNumberNew"
                                class="div-ticket div-overflow-ticket">{{trip.itemreturn.flightNumner }} - {{trip.itemreturn.ticketClass }}
                              </div>
                              <div *ngIf="trip.itemreturn.flightNumberNew" class="div-ticket div-overflow-ticket">
                                {{trip.itemreturn.flightNumberNew }} - {{trip.itemreturn.ticketClass }}
                              </div>
                            </div>

                          </div>
                        </div>
                        <div *ngIf="(trip.payment_status == 1 || trip.payment_status == 5)" class="div-gird div-pnr">
                          <div class="padding-5-8">
                            <div class="text-center">
                              <div class="text-info">Mã đặt chỗ</div>
                            </div>
                            <div class="d-flex" *ngIf="trip.itemreturn.ticketCode.indexOf('T__') == -1">
                              <div class="text-hold-ticket">{{ trip.itemreturn.ticketCode }}</div>
                              <img class="img-copy" (click)="copyClipboard(trip.itemdepart.ticketCode)"
                                src="./assets/imgs/ic_copy.png">
                            </div>

                          </div>
                        </div>
                      </div>
                      <div class="m-top-14 d-flex">
                        <div *ngIf="trip.itemreturn.departureTime && !trip.itemreturn.departureTimeNew"
                          class="text-time-depart">
                          {{trip.itemreturn.departureTime}}
                        </div>
                        <div *ngIf="trip.itemreturn.departureTimeNew" class="text-time-depart">
                          {{trip.itemreturn.departureTimeNew}}
                        </div>
                        <div class="placepoint">
                        </div>
                        <div class="m-l-6">
                          <div class="text-info font-weight-500">{{trip.flightTo}}</div>
                          <div class="text-name-airport m-0">{{ trip.returnAirport}} | {{ trip.itemreturn.departCode }}
                          </div>
                        </div>
                      </div>
                      <div
                        [ngClass]="trip.payment_status == 0 && trip.delivery_payment_date_display?'placeline-return-waitpayment':'placeline-return'">
                      </div>
                      <div class="d-flex" style="margin-top: 16px">
                        <div class="text-time-return">
                          {{trip.itemreturn.arrivalTime}}
                        </div>
                        <div class="placepoint">
                        </div>
                        <div class="m-l-6">
                          <div class="text-info font-weight-500">{{trip.flightFrom}}</div>
                          <div class="text-name-airport m-0">{{ trip.departAirport}} | {{ trip.itemreturn.arrivalCode }}
                          </div>
                        </div>
                      </div>

                    </div>
                  </div>

                  <div *ngIf="ischeckStops">
                    <div *ngFor="let item of booking_json_data[0].Transits;let i=index">
                      <div *ngIf="i!=0" class="div-stops">

                        <span class="text-info">
                          Quá cảnh {{item.timeOverStop}} tại {{item.FromPlaceName}} ({{item.FromPlaceCode}})
                        </span>
                      </div>
                      <div class="d-flex text-thin m-0">

                        <div class="div-gird ">
                          <div class="div-width-100">{{ trip.checkInDisplay }}</div>
                          <div class="d-flex m-top-6">
                            <div class="div-width-200 d-flex">
                              <div class="div-img-logo-new">
                                <img class="img-logo-new" *ngIf="trip.itemdepart.airlineName.indexOf('VIETJET') != -1 "
                                  src="./assets/ic_airticket/vj.png">
                                <img class="img-logo-new logo_vna"
                                  *ngIf="(trip.itemdepart.airlineName.indexOf('Vietnam Airlines') != -1  || trip.itemdepart.airlineName.indexOf('VIETNAM AIRLINES') != -1 ) && !trip.operatedBy "
                                  src="./assets/ic_airticket/vna.png">
                                <img class="img-logo-new logo_vna"
                                  *ngIf="(trip.itemdepart.airlineName.indexOf('Vietnam Airlines') != -1  || trip.itemdepart.airlineName.indexOf('VIETNAM AIRLINES') != -1 ) && trip.operatedBy"
                                  src="./assets/ic_airticket/vna.png">
                                <img class="img-logo-new" *ngIf="trip.itemdepart.airlineName.indexOf('JETSTAR') != -1"
                                  src="./assets/ic_airticket/ic_jetstar_b.png">
                                <img class="img-logo-new" *ngIf="trip.itemdepart.airlineName.indexOf('BAMBOO') != -1 "
                                  src="./assets/ic_airticket/bb.png">

                              </div>
                              <div *ngIf="item.FlightNumber" class="div-ticket div-overflow-ticket">{{item.FlightNumber }} -
                                {{item.TicketClass }}
                              </div>
                            </div>

                          </div>
                        </div>
                        <div *ngIf="(trip.payment_status == 1 || trip.payment_status == 5)" class="div-gird div-pnr">
                          <div class="padding-5-8">
                            <div class="text-center">
                              <div class="text-info">Mã đặt chỗ</div>
                            </div>
                            <div class="d-flex" *ngIf="trip.itemdepart.ticketCode.indexOf('T__') == -1">
                              <div class="text-hold-ticket">{{ trip.itemdepart.ticketCode }}</div>
                              <img (click)="copyClipboard(trip.itemdepart.ticketCode)" class="img-copy"
                                src="./assets/imgs/ic_copy.png">
                            </div>

                          </div>
                        </div>
                      </div>
                      <div class="m-top-14 d-flex">
                        <div class="text-time-depart">
                          {{item.DepartureTime}}
                        </div>
                        <div class="placepoint">
                        </div>
                        <div class="m-l-6">
                          <div class="text-info font-weight-500">{{item.FromPlaceName}}</div>
                          <div class="text-name-airport m-0">{{ item.departAirport}} | {{ item.FromPlaceCode }}</div>
                        </div>
                      </div>
                      <div class="placeline-stops">
                      </div>
                      <div class="d-flex" style="margin-top: -16px">
                        <div class="text-time-return">
                          {{item.ArrivalTime}}
                        </div>
                        <div class="placepoint">
                        </div>
                        <div class="m-l-6">
                          <div class="text-info font-weight-500">{{item.ToPlaceName}}</div>
                          <div class="text-name-airport m-0">{{ item.returnAirport}} | {{ item.ToPlaceCode }}</div>
                        </div>
                      </div>

                    </div>
                    <!-- Chiều về -->
                    <div
                      *ngIf="trip.textReturn && trip.bookingsComboData[1].airlineCode && trip.bookingsComboData[1].airlineName.toLowerCase().indexOf('cathay') == -1 && ['GO', 'RETURN', 'GOROUNDTRIP', 'RETURNROUNDTRIP'].indexOf(trip.bookingsComboData[1].trip_Code) == -1 ">
                      <div class="div-split"></div>
                      <div *ngFor="let item of booking_json_data[1].Transits;let i=index">
                        <div *ngIf="i!=0" class="div-stops">

                          <span class="text-info">
                            Quá cảnh {{item.timeOverStop}} tại {{item.FromPlaceName}} ({{item.FromPlaceCode}})
                          </span>
                        </div>
                        <div class="d-flex text-thin m-0">
                          <div class="div-gird ">
                            <div class="div-width-100">{{ trip.checkOutDisplay }}</div>
                            <div class="d-flex m-top-6">
                              <div class="div-width-200 d-flex">
                                <div class="div-img-logo-new">
                                  <img class="img-logo-new"
                                    *ngIf="trip.itemreturn.airlineName.indexOf('VIETJET') != -1 "
                                    src="./assets/ic_airticket/vj.png">
                                  <img class="img-logo-new logo_vna"
                                    *ngIf="(trip.itemreturn.airlineName.indexOf('Vietnam Airlines') != -1  || trip.itemreturn.airlineName.indexOf('VIETNAM AIRLINES') != -1 ) && !trip.operatedBy "
                                    src="./assets/ic_airticket/vna.png">
                                  <img class="img-logo-new logo_vna"
                                    *ngIf="(trip.itemreturn.airlineName.indexOf('Vietnam Airlines') != -1  || trip.itemreturn.airlineName.indexOf('VIETNAM AIRLINES') != -1 ) && trip.operatedBy"
                                    src="./assets/ic_airticket/vna.png">
                                  <img class="img-logo-new" *ngIf="trip.itemreturn.airlineName.indexOf('JETSTAR') != -1"
                                    src="./assets/ic_airticket/ic_jetstar_b.png">
                                  <img class="img-logo-new" *ngIf="trip.itemreturn.airlineName.indexOf('BAMBOO') != -1 "
                                    src="./assets/ic_airticket/bb.png">

                                </div>
                                <div *ngIf="item.FlightNumber" class="div-ticket div-overflow-ticket">{{item.FlightNumber }} -
                                  {{item.TicketClass }}
                                </div>
                              </div>

                            </div>
                          </div>
                          <div *ngIf="(trip.payment_status == 1 || trip.payment_status == 5)" class="div-gird div-pnr">
                            <div class="padding-5-8">
                              <div class="text-center">
                                <div class="text-info">Mã đặt chỗ</div>
                              </div>
                              <div class="d-flex" *ngIf="trip.itemreturn.ticketCode.indexOf('T__') == -1">
                                <div class="text-hold-ticket">{{ trip.itemreturn.ticketCode }}</div>
                                <img class="img-copy" (click)="copyClipboard(trip.itemdepart.ticketCode)"
                                  src="./assets/imgs/ic_copy.png">
                              </div>

                            </div>
                          </div>
                        </div>
                        <div class="m-top-14 d-flex">
                          <div class="text-time-depart">
                            {{item.DepartureTime}}
                          </div>
                          <div class="placepoint">
                          </div>
                          <div class="m-l-6">
                            <div class="text-info font-weight-500">{{item.FromPlaceName}}</div>
                            <div class="text-name-airport m-0">{{ trip.departAirport}} | {{ item.FromPlaceCode }}</div>
                          </div>
                        </div>
                        <div class="placeline-stops">
                        </div>
                        <div class="d-flex" style="margin-top: -16px">
                          <div class="text-time-return">
                            {{item.ArrivalTime}}
                          </div>
                          <div class="placepoint">
                          </div>
                          <div class="m-l-6">
                            <div class="text-info font-weight-500">{{item.ToPlaceName}}</div>
                            <div class="text-name-airport m-0">{{ item.returnAirport}} | {{ item.ToPlaceCode }}</div>
                          </div>
                        </div>
                      </div>



                    </div>
                  </div>

                  <div *ngIf="trip.isFlyBooking">
                    <div class="div-split-panel"></div>

                    <div class="p-top-8" *ngFor="let pax of trip.itemdepart.passengers; let idx = index">
                      <div *ngIf="trip.IsCathay" class="div-pax-lug d-flex mt16">
                        <div
                          [ngClass]="idx==0 ? 'pax-name' : (pax.arrlug && pax.arrlug.length >0) ? 'pax-name' : ( (idx == trip.itemdepart.passengers.length -1 && trip.itemdepart.passengers[trip.itemdepart.passengers.length-2] && trip.itemdepart.passengers[trip.itemdepart.passengers.length-2].arrlug && trip.itemdepart.passengers[trip.itemdepart.passengers.length-2].arrlug.length >0 )? 'pax-name' :  'pax-name')">
                          <div [ngClass]="!pax.isAdult && pax.dob?'div-text-pax-name-child':'div-text-pax-name'">
                            {{pax.gender}}. <span class="f-bold">{{pax.name}}</span> <span class="text-info"
                              *ngIf="!pax.isAdult && pax.dob"> {{pax.dob}}</span></div>
                        </div>
                        <div class="div-cathay" *ngIf="pax.IsCathay">

                          <span (click)="requestCathay(pax.name,trip,pax.gender)" class="text-cathay"
                            *ngIf="!pax.claimed else hadclaimed"> <img
                              src="https://member.ivivu.com/assets/img/dashboard_trips/cathay.png" />Yêu cầu bảo
                            hiểm </span>
                          <ng-template #hadclaimed><img class="img-hadclaimed-fly"
                              src="./assets/imgs/icon_action_done.svg"><label>Đã yêu cầu</label></ng-template>
                        </div>

                      </div>
                      <div *ngIf="!trip.IsCathay" class="div-pax-lug d-flex mt16">
                        <div
                          [ngClass]="idx==0 ? 'pax-name' : (pax.arrlug && pax.arrlug.length >0) ? 'pax-name' : ( (idx == trip.itemdepart.passengers.length -1 && trip.itemdepart.passengers[trip.itemdepart.passengers.length-2] && trip.itemdepart.passengers[trip.itemdepart.passengers.length-2].arrlug && trip.itemdepart.passengers[trip.itemdepart.passengers.length-2].arrlug.length >0 )? 'pax-name' :  'pax-name')">
                          <label class="text-info font-weight-500">{{pax.gender}}. <span>{{pax.name}}</span> <span
                              class="text-info" *ngIf="!pax.isAdult && pax.dob"> {{pax.dob}}</span></label>
                        </div>
                        <!-- <div class="pax-type ">{{pax.gender}}</div> -->
                      </div>

                      <div class="d-flex m-top-13  h-26" *ngIf="!pax.isInfant">
                        <div class="text-name-airport witdh-80 align-self-end ">
                          {{ trip.itemdepart.departCode }} - {{ trip.itemdepart.arrivalCode }}
                        </div>
                        <div class="d-flex m-left-4 m-top-13-5">
                          <img src="./assets/imgs/ic_handbag.svg" />
                          <div class="text-info font-weight-500 m-left-4 witdh-70 align-self-end ">
                            {{baggageHandedDepart}}</div>
                        </div>
                        <div *ngIf="pax.hanhLyshow && pax.hanhLyshow!='0'" class="d-flex m-left-4">
                          <img src="./assets/imgs/ic_airdrop.svg" />
                          <div class="text-info font-weight-500 m-left-4 witdh-70 align-self-end ">{{pax.hanhLyshow}} kg
                          </div>
                        </div>
                        <div *ngIf="!pax.hanhLyshow||pax.hanhLyshow=='0'" class="d-flex m-left-4">
                          <img src="./assets/imgs/ic_airdrop.svg" />
                          <div class="text-info font-weight-500 m-left-4 witdh-70 align-self-end ">không có</div>
                        </div>
                        <div *ngIf="pax.seatNumber" class="d-flex m-left-4">
                          <img src="./assets/imgs/ic_seat.svg" />
                          <div class="text-info font-weight-500 m-left-4 align-self-end">{{pax.seatNumber}}</div>
                        </div>

                      </div>
                      <div class="d-flex m-top-13  h-26"
                        *ngIf="trip.textReturn && trip.bookingsComboData[1].airlineCode && trip.bookingsComboData[1].airlineName.toLowerCase().indexOf('cathay') == -1 && ['GO', 'RETURN', 'GOROUNDTRIP', 'RETURNROUNDTRIP'].indexOf(trip.bookingsComboData[1].trip_Code) == -1 && !pax.isInfant">
                        <div class="text-name-airport witdh-80 align-self-end ">
                          {{ trip.itemdepart.arrivalCode }} - {{ trip.itemdepart.departCode }}
                        </div>
                        <div class="d-flex m-left-4 m-top-13-5">
                          <img src="./assets/imgs/ic_handbag.svg" />
                          <div class="text-info font-weight-500 m-left-4 witdh-70 align-self-end ">
                            {{baggageHandedReturn}}</div>
                        </div>
                        <div
                          *ngIf="trip.bookingsComboData[1].passengers[idx].hanhLyshow && trip.bookingsComboData[1].passengers[idx].hanhLyshow!='0'"
                          class="d-flex m-left-4">
                          <img src="./assets/imgs/ic_airdrop.svg" />
                          <div class="text-info font-weight-500 m-left-4 witdh-70 align-self-end ">
                            {{trip.bookingsComboData[1].passengers[idx].hanhLyshow}} kg</div>
                        </div>
                        <div
                          *ngIf="!trip.bookingsComboData[1].passengers[idx].hanhLyshow||trip.bookingsComboData[1].passengers[idx].hanhLyshow=='0'"
                          class="d-flex m-left-4">
                          <img src="./assets/imgs/ic_airdrop.svg" />
                          <div class="text-info font-weight-500 m-left-4 witdh-70 align-self-end ">không có</div>
                        </div>
                        <div *ngIf="trip.bookingsComboData[1].passengers[idx].seatNumber" class="d-flex m-left-4">
                          <img src="./assets/imgs/ic_seat.svg" />
                          <div class="text-info font-weight-500 m-left-4 align-self-end">
                            {{trip.bookingsComboData[1].passengers[idx].seatNumber}}</div>
                        </div>
                      </div>
                      <div class="text-hotfare" *ngIf="pax.IsCathay && pax.gender.indexOf('Bé') == 0">(Trẻ dưới 14 tuổi
                        cần claim chung người lớn)</div>
                      <!-- <div class="div-split-panel" *ngIf="trip.isPickupDropoff && !(trip.IsCathay && trip.isFlyBooking) && idx == trip.itemdepart.passengers.length-1"></div> -->
                    </div>

                  </div>

                  <!-- Đi chung -->
                  <div *ngIf="!trip.hasCathay else PickupDropoffWithCathay">
                    <div class="div-split-panel"></div>
                    <div
                      *ngIf="trip.isPickupDropoff && trip.bookingsComboData[1] && trip.bookingsComboData[1].trip_Code && ( !trip.bookingsComboData[2] || (trip.bookingsComboData[2] && ['GO', 'RETURN', 'GOROUNDTRIP', 'RETURNROUNDTRIP'].indexOf(trip.bookingsComboData[2].trip_Code) != -1) )">
                      <div class="div-dc">
                        <div class="div-depart-dc">
                          <div class="d-flex">
                            <div class="div-dc-img">
                              <img class="img-location" src="./assets/imgs/ic_car.svg">
                            </div>
                            <div class="div-dc-label-name"
                              *ngIf="trip.bookingsComboData[1].trip_Code && trip.bookingsComboData[1].trip_Code == 'GO' ">
                              Đưa đón tại {{trip.flightFrom}}</div>
                            <div class="div-dc-label-name"
                              *ngIf="trip.bookingsComboData[1].trip_Code && trip.bookingsComboData[1].trip_Code == 'RETURN' ">
                              Đưa đón tại {{trip.flightTo}}</div>

                          </div>

                          <div *ngIf="trip.bookingsComboData[2]"
                            [ngClass]="trip.bookingsComboData[2] && trip.bookingsComboData[2].trip_Code && trip.bookingsComboData[2].trip_Code == 'GOROUNDTRIP' ? 'd-flex div-dc-info' : 'd-flex div-dc-info p-b-8'">
                            <div><img class="img-clock" src="./assets/imgs/ic_date.svg"></div>
                            <div class="m-l-4 div-dc-label-title"> {{ trip.bookingsComboData[2].departureDateDisplay }}
                            </div>
                            <div><img class="img-clock" src="./assets/imgs/ic_clock.svg"></div>
                            <div class="m-l-4 div-dc-label-title"> <span
                                class="text-color-blue">{{trip.bookingsComboData[2].departureTime}}</span></div>

                            <div class="div-pnr">
                              <div *ngIf="trip.bookingsComboData[2] && trip.bookingsComboData[2].ticketCode"
                                class="padding-5-8 d-flex">
                                <div class="text-vedc"><span class="text-info">Mã vé:</span>
                                  {{trip.bookingsComboData[2].ticketCode}}</div>
                                <img (click)="copyClipboard('trip.bookingsComboData[2].ticketCode')" class="img-copy"
                                  src="./assets/imgs/ic_copy.png">
                              </div>
                            </div>
                          </div>
                          <div *ngIf="trip.bookingsComboData[2]" class="d-flex">
                            <div><img class="img-clock" src="./assets/imgs/location.svg"></div>
                            <div class="m-l-4 cls-text-limit" style="width:100%">
                              {{trip.bookingsComboData[2].departCode}}</div>
                          </div>

                          <div *ngIf="trip.bookingsComboData[1] && !trip.bookingsComboData[2]"
                            [ngClass]="trip.bookingsComboData[2] && trip.bookingsComboData[2].trip_Code && trip.bookingsComboData[2].trip_Code == 'GOROUNDTRIP' ? 'd-flex div-dc-info' : 'd-flex div-dc-info p-b-8'">
                            <div><img class="img-clock" src="./assets/imgs/ic_date.svg"></div>
                            <div class="m-l-4 div-dc-label-title"> {{ trip.bookingsComboData[1].departureDateDisplay }}
                            </div>
                            <div><img class="img-clock" src="./assets/imgs/ic_clock.svg"></div>
                            <div class="m-l-4 div-dc-label-title"> <span
                                class="text-color-blue">{{trip.bookingsComboData[1].departureTime}}</span></div>

                            <div class="div-pnr">
                              <div *ngIf="trip.bookingsComboData[2] && trip.bookingsComboData[2].ticketCode"
                                class="padding-5-8 d-flex">
                                <div class="text-vedc"><span class="text-info">Mã vé:</span>
                                  {{trip.bookingsComboData[1].ticketCode}}</div>
                                <img (click)="copyClipboard('trip.bookingsComboData[2].ticketCode')" class="img-copy"
                                  src="./assets/imgs/ic_copy.png">
                              </div>
                            </div>
                          </div>
                          <div *ngIf="trip.bookingsComboData[1] && !trip.bookingsComboData[2]" class="d-flex">
                            <div><img class="img-clock" src="./assets/imgs/location.svg"></div>
                            <div class="m-l-4 cls-text-limit" style="width:100%">
                              {{trip.bookingsComboData[1].departCode}}</div>
                          </div>
                        </div>


                        <div [ngClass]="trip.bookingsComboData[2] ? 'div-depart-dc' : 'div-depart-dc p-b-8'"
                          *ngIf="trip.bookingsComboData[2] && trip.bookingsComboData[2].trip_Code">
                          <div class="div-split-panel"></div>
                          <div class="d-flex">
                            <div class="div-dc-img">
                              <img class="img-location" src="./assets/imgs/ic_car.svg">
                            </div>
                            <div class="div-dc-label-name" *ngIf="trip.bookingsComboData[2].trip_Code == 'RETURN'">Đưa
                              đón tại {{trip.bookingsComboData[0].flightTo}}</div>

                          </div>

                          <div class="d-flex div-dc-info">
                            <div><img class="img-clock" src="./assets/imgs/ic_date.svg"></div>
                            <div class="m-l-4 div-dc-label-title"> {{ trip.bookingsComboData[2].departureDateDisplay }}
                            </div>
                            <div><img class="img-clock" src="./assets/imgs/ic_clock.svg"></div>
                            <div class="m-l-4 div-dc-label-title"> <span
                                class="text-color-blue">{{trip.bookingsComboData[2].departureTime}}</span></div>

                            <div *ngIf="trip.bookingsComboData[2] && trip.bookingsComboData[2].ticketCode"
                              class="div-pnr">
                              <div class="padding-5-8 d-flex">
                                <div class="text-vedc"><span class="text-info">Mã vé:</span>
                                  {{trip.bookingsComboData[2].ticketCode}}</div>
                                <img (click)="copyClipboard('trip.bookingsComboData[2].ticketCode')" class="img-copy"
                                  src="./assets/imgs/ic_copy.png">
                              </div>
                            </div>
                          </div>
                          <div *ngIf="trip.bookingsComboData[2]" class="d-flex">
                            <div><img class="img-clock" src="./assets/imgs/location.svg"></div>
                            <div class="m-l-4 cls-text-limit" style="width:100%">
                              {{trip.bookingsComboData[2].departCode}}</div>
                          </div>

                        </div>

                      </div>

                    </div>

                    <!-- Vé 2 chiều + đi chung -->
                    <div
                      *ngIf="trip.isPickupDropoff && trip.bookingsComboData[1] && (!trip.bookingsComboData[1].trip_Code || trip.bookingsComboData[1].trip_Code && ['GO', 'RETURN', 'GOROUNDTRIP', 'RETURNROUNDTRIP'].indexOf(trip.bookingsComboData[1].trip_Code) == -1) ">

                      <div class="div-dc" *ngIf="trip.bookingsComboData[2]">
                        <div
                          [ngClass]="(trip.bookingsComboData[2] || trip.bookingsComboData[3]) ? 'div-depart-dc' : 'div-depart-dc p-b-8'">
                          <div class="d-flex">
                            <div class="div-dc-img">
                              <img class="img-location" src="./assets/imgs/ic_car.svg">
                            </div>

                            <div class="div-dc-label-name" *ngIf="trip.bookingsComboData[2].trip_Code == 'GO' ">Đưa đón
                              tại {{trip.flightFrom}}</div>
                            <div class="div-dc-label-name" *ngIf="trip.bookingsComboData[2].trip_Code == 'RETURN' ">Đưa
                              đón tại {{trip.flightTo}}</div>
                          </div>

                          <div *ngIf="trip.bookingsComboData[2]" class="d-flex div-dc-info">
                            <div><img class="img-clock" src="./assets/imgs/ic_date.svg"></div>
                            <div class="m-l-4 div-dc-label-title"> {{ trip.bookingsComboData[2].departureDateDisplay }}
                            </div>
                            <div><img class="img-clock" src="./assets/imgs/ic_clock.svg"></div>
                            <div class="m-l-4 div-dc-label-title"> <span
                                class="text-color-blue">{{trip.bookingsComboData[2].departureTime}}</span></div>

                            <div *ngIf="trip.bookingsComboData[2] && trip.bookingsComboData[2].ticketCode"
                              class="div-pnr">
                              <div class="padding-5-8 d-flex">
                                <div class="text-vedc"><span class="text-info">Mã vé:</span>
                                  {{trip.bookingsComboData[2].ticketCode}}</div>
                                <img (click)="copyClipboard('trip.bookingsComboData[2].ticketCode')" class="img-copy"
                                  src="./assets/imgs/ic_copy.png">
                              </div>
                            </div>
                          </div>
                          <div *ngIf="trip.bookingsComboData[2]" class="d-flex">
                            <div><img class="img-clock" src="./assets/imgs/location.svg"></div>
                            <div class="m-l-4 cls-text-limit" style="width:100%">
                              {{trip.bookingsComboData[2].departCode}}</div>
                          </div>
                          <div class="div-panel-1px"></div>
                          <div class="d-flex div-dc-info-1"
                            *ngIf="trip.bookingsComboData[4] && trip.bookingsComboData[4].trip_Code && trip.bookingsComboData[4].trip_Code == 'GOROUNDTRIP' ">
                            <div><img class="img-clock" src="./assets/imgs/ic_date.svg"></div>
                            <div class="m-l-4 div-dc-label-title"> {{ trip.bookingsComboData[4].departureDateDisplay }}
                            </div>
                            <div><img class="img-clock" src="./assets/imgs/ic_clock.svg"></div>
                            <div class="m-l-4 div-dc-label-title"> <span
                                class="text-color-blue">{{trip.bookingsComboData[4].departureTime}}</span></div>

                            <div *ngIf="trip.bookingsComboData[4] && trip.bookingsComboData[4].ticketCode"
                              class="div-pnr">
                              <div class="padding-5-8 d-flex">
                                <div class="text-vedc"><span class="text-info">Mã vé:</span>
                                  {{trip.bookingsComboData[4].ticketCode}}</div>
                                <img (click)="copyClipboard('trip.bookingsComboData[4].ticketCode')" class="img-copy"
                                  src="./assets/imgs/ic_copy.png">
                              </div>
                            </div>
                          </div>
                          <div
                            *ngIf="trip.bookingsComboData[4] && trip.bookingsComboData[4].trip_Code && trip.bookingsComboData[4].trip_Code == 'GOROUNDTRIP' "
                            class="d-flex m-top-14">
                            <div><img class="img-clock" src="./assets/imgs/location.svg"></div>
                            <div class="m-l-4 cls-text-limit" style="width:100%">
                              {{trip.bookingsComboData[4].departCode}}</div>
                          </div>

                          <div class=" p-b-8"
                            *ngIf="trip.bookingsComboData[3] && trip.bookingsComboData[3].trip_Code && (trip.bookingsComboData[3].trip_Code == 'GOROUNDTRIP' || trip.bookingsComboData[3].trip_Code == 'RETURNROUNDTRIP') ">
                            <div class="d-flex">
                              <div><img class="img-clock" src="./assets/imgs/ic_date.svg"></div>
                              <div class="m-l-4 div-dc-label-title"> {{ trip.bookingsComboData[3].departureDateDisplay
                                }}</div>
                              <div><img class="img-clock" src="./assets/imgs/ic_clock.svg"></div>
                              <div class="m-l-4 div-dc-label-title"> <span
                                  class="text-color-blue">{{trip.bookingsComboData[3].departureTime}}</span></div>

                              <div *ngIf="trip.bookingsComboData[3] && trip.bookingsComboData[3].ticketCode"
                                class="div-pnr">
                                <div class="padding-5-8 d-flex">
                                  <div class="text-vedc"><span class="text-info">Mã vé:</span>
                                    {{trip.bookingsComboData[3].ticketCode}}</div>
                                  <img (click)="copyClipboard('trip.bookingsComboData[3].ticketCode')" class="img-copy"
                                    src="./assets/imgs/ic_copy.png">
                                </div>
                              </div>
                            </div>
                            <div class="d-flex">
                              <div><img class="img-clock" src="./assets/imgs/location.svg"></div>
                              <div class="m-l-4 cls-text-limit" style="width:100%">
                                {{trip.bookingsComboData[3].departCode}}</div>
                            </div>
                          </div>

                        </div>
                      </div>

                    </div>

                    <div
                      *ngIf="trip.isPickupDropoff && trip.bookingsComboData[3] && trip.bookingsComboData[3].trip_Code">
                      <div class="div-split-panel"></div>
                      <div class="div-dc">
                        <div class="div-depart-dc p-b-8"
                          *ngIf="trip.bookingsComboData[3] && trip.bookingsComboData[3].trip_Code && trip.bookingsComboData[3].trip_Code == 'RETURN'">
                          <div class="d-flex m-top-16">
                            <div class="div-dc-img">
                              <img class="img-location" src="./assets/imgs/ic_car.svg">
                            </div>
                            <div class="div-dc-label-name">Đưa đón tại {{trip.bookingsComboData[1].flightFrom}}</div>

                          </div>
                          <div *ngIf="trip.bookingsComboData[3]" class="d-flex div-dc-info">
                            <div><img class="img-clock" src="./assets/imgs/ic_date.svg"></div>
                            <div class="m-l-4 div-dc-label-title"> {{ trip.bookingsComboData[3].departureDateDisplay }}
                            </div>
                            <div><img class="img-clock" src="./assets/imgs/ic_clock.svg"></div>
                            <div class="m-l-4 div-dc-label-title"> <span
                                class="text-color-blue">{{trip.bookingsComboData[3].departureTime}}</span></div>

                            <div *ngIf="trip.bookingsComboData[3] && trip.bookingsComboData[3].ticketCode"
                              class="div-pnr">
                              <div class="padding-5-8 d-flex">
                                <div class="text-vedc"><span class="text-info">Mã vé:</span>
                                  {{trip.bookingsComboData[3].ticketCode}}</div>
                                <img (click)="copyClipboard('trip.bookingsComboData[3].ticketCode')" class="img-copy"
                                  src="./assets/imgs/ic_copy.png">
                              </div>
                            </div>
                          </div>
                          <div *ngIf="trip.bookingsComboData[3]" class="d-flex">
                            <div><img class="img-clock" src="./assets/imgs/location.svg"></div>
                            <div class="m-l-4 cls-text-limit" style="width:100%">
                              {{trip.bookingsComboData[3].departCode}}</div>
                          </div>
                          <div class="div-panel-1px"></div>
                          <div class="d-flex div-dc-info-1"
                            *ngIf="trip.bookingsComboData[5] && trip.bookingsComboData[5].trip_Code && trip.bookingsComboData[5].trip_Code == 'RETURNROUNDTRIP' ">
                            <div><img class="img-clock" src="./assets/imgs/ic_date.svg"></div>
                            <div class="m-l-4 div-dc-label-title"> {{ trip.bookingsComboData[5].departureDateDisplay }}
                            </div>
                            <div><img class="img-clock" src="./assets/imgs/ic_clock.svg"></div>
                            <div class="m-l-4 div-dc-label-title"> <span
                                class="text-color-blue">{{trip.bookingsComboData[5].departureTime}}</span></div>

                            <div *ngIf="trip.bookingsComboData[5] && trip.bookingsComboData[5].ticketCode"
                              class="div-pnr">
                              <div class="padding-5-8 d-flex">
                                <div class="text-vedc"><span class="text-info">Mã vé:</span>
                                  {{trip.bookingsComboData[5].ticketCode}}</div>
                                <img (click)="copyClipboard('trip.bookingsComboData[5].ticketCode')" class="img-copy"
                                  src="./assets/imgs/ic_copy.png">
                              </div>
                            </div>
                          </div>
                          <div
                            *ngIf="trip.bookingsComboData[5] && trip.bookingsComboData[5].trip_Code && trip.bookingsComboData[5].trip_Code == 'RETURNROUNDTRIP' "
                            class="d-flex m-top-14">
                            <div><img class="img-clock" src="./assets/imgs/location.svg"></div>
                            <div class="m-l-4 cls-text-limit" style="width:100%">
                              {{trip.bookingsComboData[5].departCode}}</div>
                          </div>
                        </div>


                      </div>



                    </div>
                  </div>

                  <ng-template #PickupDropoffWithCathay>
                    <div class="div-split-panel"></div>
                    <div *ngFor="let itemPD of trip.arrPickupDropoff; let idx = index">

                      <div class="div-dc">
                        <div class="div-depart-dc">
                          <div *ngIf="itemPD.trip_Code && itemPD.trip_Code == 'RETURN' "></div>
                          <div class="d-flex" *ngIf="['GO', 'RETURN'].includes(itemPD.trip_Code)">
                            <div class="div-dc-img">
                              <img class="img-location" src="./assets/imgs/ic_car.svg">
                            </div>
                            <div class="div-dc-label-name" *ngIf="itemPD.trip_Code && itemPD.trip_Code == 'GO' ">Đưa đón
                              tại {{trip.flightFrom}}</div>
                            <div class="div-dc-label-name" *ngIf="itemPD.trip_Code && itemPD.trip_Code == 'RETURN' ">Đưa
                              đón tại {{trip.flightTo}}</div>

                          </div>

                          <div [ngClass]="idx!=1&&idx!=3? 'd-flex div-dc-info p-b-8':'d-flex p-b-8 div-dc-info'">
                            <div><img class="img-clock" src="./assets/imgs/ic_date.svg"></div>
                            <div class="m-l-4 div-dc-label-title"> {{ itemPD.departureDateDisplay }}</div>
                            <div><img class="img-clock" src="./assets/imgs/ic_clock.svg"></div>
                            <div class="m-l-4 div-dc-label-title"> <span
                                class="text-color-blue">{{itemPD.departureTime}}</span></div>

                            <div *ngIf="itemPD.ticketCode" class="div-pnr">
                              <div class="padding-5-8 d-flex">
                                <div class="text-vedc"><span class="text-info">Mã vé:</span> {{itemPD.ticketCode}}</div>
                                <img (click)="copyClipboard('itemPD.ticketCode')" class="img-copy"
                                  src="./assets/imgs/ic_copy.png">
                              </div>
                            </div>
                          </div>
                          <div class="d-flex">
                            <div><img class="img-clock" src="./assets/imgs/location.svg"></div>
                            <div class="m-l-4 cls-text-limit" style="width:100%">{{itemPD.departCode}}</div>
                          </div>
                          <div *ngIf="idx!=1&&idx!=3 " class="div-panel-1px"></div>
                        </div>
                      </div>

                    </div>

                  </ng-template>

                  <!-- Hotel City -->
                  <div *ngIf="trip.booking_type == 'CB_FLY_HOTEL'">
                    <div>

                      <div class="item-room-city padding-0 h-88">
                        <div class="div-wrapimg">
                          <!-- <img *ngIf="trip.avatar else noavatar" class="img-avatar" src="https:{{trip.avatar}}"> -->
                          <div *ngIf="trip.avatar else noavatar">
                            <img class="img-avatar" src="{{trip.avatar}}">
                            <!-- <img *ngIf="trip.avatar.indexOf('i.travelapi.com') != -1" class="img-avatar"
                              src="{{trip.avatar}}"> -->
                          </div>
                          <ng-template #noavatar>
                            <img class="img-avatar"
                              src="https://cdn1.ivivu.com/iVivu/2018/02/07/15/noimage-104x104.png">
                          </ng-template>
                        </div>
                        <div class="col-mytrip-text-description">
                          <div class="text-left">
                            <!-- mã nhận phòng -->
                            <ion-row style="height: 30px;" *ngIf="trip.off_sup_code">
                              <ion-col size="1" class="col-address">
                                <img style="height:12px" src="./assets/imgs/ic_code.svg">
                              </ion-col>
                              <ion-col class="col-address">
                                <label>Mã nhận phòng: {{trip.off_sup_code}}</label>
                              </ion-col>
                            </ion-row>
                            <div *ngIf="trip.hotel_name">
                              <ion-label class="label-comboname  f-bold p-top-0 div-name-hotel">{{trip.hotel_name}}
                                <span class="trip-star" *ngIf="trip.RatingStar"><img *ngIf="trip.RatingStar!=0"
                                    src={{trip.RatingStar}}></span>
                              </ion-label>
                            </div>
                            <!-- địa chỉ -->
                            <ion-row>
                              <ion-col size="1" style="padding: 0;">
                                <img style="height:12px" src="./assets/ic_hoteldetail/group.svg">
                              </ion-col>
                              <ion-col class="col-address" [ngClass]="trip.payment_status == 1 ? '': ''">
                                <label>{{trip.address}}</label>
                              </ion-col>
                            </ion-row>
                          </div>
                        </div>
                      </div>

                    </div>
                    <div class="div-panel-1px m-top-46"></div>
                    <div class="d-flex m-top-46">
                      <div>
                        <img src="./assets/imgs/ic_date.svg">
                      </div>
                      <div class="text-info m-left-4 font-weight-500">
                        {{trip.checkInDisplayCity}} → {{trip.checkOutDisplayCity}}
                      </div>
                    </div>
                    <div class="div-gird m-left-20 m-top-12">
                      <div class="text-info-1">
                        Nhận phòng: <span class="text-info">Từ {{cin}}</span>
                      </div>
                      <div class="text-info-1">
                        Trả phòng: <span class="text-info">Trước {{cout}}</span>
                      </div>
                    </div>
                    <div>
                      <div class="d-flex m-top-12">
                        <div>
                          <img src="./assets/ic_facility/ic_bed.svg">
                        </div>
                        <div class="text-info m-left-4 font-weight-500">
                          {{trip.room_name}} x{{trip.room_count}}
                        </div>
                      </div>
                      <!-- ăn sáng -->
                      <div *ngIf="trip.meal_plan" class="d-flex m-top-12">
                        <div><img src="./assets/ic_hoteldetail/ic_food_b.svg"></div>
                        <div class="text-info m-left-4 font-weight-500">{{trip.meal_plan}}</div>
                      </div>
                      <div class="d-flex m-top-12">
                        <div>
                          <img src="./assets/ic_facility/ic_people.svg">
                        </div>
                        <div class="text-info m-left-4">
                          {{trip.totalPaxStr}}
                        </div>
                      </div>
                      <!-- <div class="d-flex m-top-3">
                     <div class=" div-left"><img src="./assets/ic_facility/ic_people.svg"></div>
                     <div style="font-size: 14px;">{{trip.room_count}} phòng | {{trip.totalPaxStr}}</div>
                   </div> -->


                    </div>
                    <div class="div-split"></div>


                  </div>

                </div>
              </div>

              <div
                [ngClass]="trip.payment_status == 0 && trip.deliveryPaymentDisplay?'div-total-payment mt16':'div-total mt16'">
                <div class="padding-12-16">
                  <div class="d-flex">
                    <div class="text-info">
                      Vé máy bay <span
                        *ngIf="trip.textReturn && trip.bookingsComboData[1].airlineCode && trip.bookingsComboData[1].airlineName.toLowerCase().indexOf('cathay') == -1 && ['GO', 'RETURN', 'GOROUNDTRIP', 'RETURNROUNDTRIP'].indexOf(trip.bookingsComboData[1].trip_Code) == -1 ">khứ
                        hồi</span>
                    </div>
                    <div class="position-absolute text-info">
                      {{gf.numberToCurrency(totalVMB, '.')}} VND
                    </div>
                  </div>
                  <div class="text-name-airport">
                    {{trip.totalPaxStr}}
                  </div>

                  <div *ngIf="totalService>0" class="d-flex m-top-8">
                    <div class="text-info">
                      Dịch vụ thêm
                    </div>
                    <div class="position-absolute text-info">
                      {{gf.numberToCurrency(totalService, '.')}} VND
                    </div>
                  </div>
                  <div *ngIf="totalService>0" class="text-name-airport">
                    Thêm hành lý, chọn ghế ngồi
                  </div>
                  <!-- đi chung -->
                  <div *ngIf="totalDichung>0" class="d-flex m-top-8">
                    <div class="text-info">
                      Xe đưa đón
                    </div>
                    <div class="position-absolute text-info">
                      {{gf.numberToCurrency(totalDichung, '.')}} VND
                    </div>
                  </div>
                  <div *ngIf="totalDichung>0" class="text-name-airport">
                    {{coutDC}} chiều
                  </div>
                  <div class="d-flex m-top-8"
                    *ngIf="trip.promotionDiscountAmount&&trip.promotionDiscountAmount>0 && trip.ivivu_point>0">
                    <div class="text-info">
                      iVIVU point
                    </div>
                    <div class="position-absolute text-info">
                      {{gf.numberToCurrency(trip.promotionDiscountAmount, '.')}} VND
                    </div>
                  </div>
                  <div class="d-flex m-top-8"
                    *ngIf="trip.promotionDiscountAmount&&trip.promotionDiscountAmount>0 && !trip.ivivu_point ">
                    <div class="text-info">
                      Khuyến mãi
                    </div>
                    <div class="position-absolute text-info">
                      {{gf.numberToCurrency(trip.promotionDiscountAmount, '.')}} VND
                    </div>
                  </div>
                  <div class="d-flex m-top-8" *ngIf="trip.paid_amount&&trip.paid_amount>0&&amount_after_tax>0">
                    <div class="text-info">
                      Đã thanh toán trước
                    </div>
                    <div class="position-absolute text-info">
                      {{gf.numberToCurrency(trip.paid_amount, '.')}} VND
                    </div>
                  </div>
                  <div class="d-flex m-top-8" *ngIf="trip.payment_fee">
                    <div class="text-info">
                      Phí tiện ích
                    </div>
                    <div class="position-absolute text-info">
                      {{gf.convertNumberToString(trip.payment_fee)}} VND
                    </div>
                  </div>
                  <div class="div-split"></div>
                  <div class="d-flex m-top-8">
                    <div class="text-info d-flex">
                      Tổng cộng - <div class="font-weight-600 mt4"
                        *ngIf="trip.isFlyBooking && trip.payment_status != 9 && (trip.payment_status != 3 && trip.payment_status != -2)">
                        <!-- <label *ngIf="(trip.payment_status == 1 || trip.payment_status == 5) else notpayment" class="fly-bkg-code">Đã xuất vé</label> -->
                        <div>
                          <label *ngIf="(trip.payment_status == 1 || trip.payment_status == 5) else notpayment"> Đã
                            thanh toán</label>
                          <ng-template #notpayment>
                            <label *ngIf="(trip.payment_status == 1 || trip.payment_status == 5)">Đã thanh toán</label>
                            <label class="text-red" *ngIf="!(trip.payment_status == 1 || trip.payment_status == 5)">Chờ
                              thanh toán</label>
                          </ng-template>
                        </div>

                      </div>
                    </div>
                    <div *ngIf="amount_after_tax>0" class="position-absolute text-info font-weight-600"
                      [ngClass]="(trip.payment_status == 1 || trip.payment_status == 5)?'':'text-orange'">
                      {{gf.numberToCurrency(amount_after_tax, '.')}} VND
                    </div>
                    <div *ngIf="amount_after_tax<=0" class="position-absolute text-info font-weight-600"
                      [ngClass]="(trip.payment_status == 1 || trip.payment_status == 5)?'':'text-orange'">
                      {{gf.numberToCurrency(trip.paid_amount, '.')}} VND
                    </div>
                  </div>
                  <div class="text-name-airport">
                    (Giá đã bao gồm thuế & phí dịch vụ)
                  </div>
                </div>
              </div>

            </ion-item-group>
          </div>
        </div>
      </ng-template>


    </div>

    <div
      *ngIf="!(trip.isBookingVMBQT && trip.isTravelPort) &&trip.delivery_payment_date_display && (trip.pay_method==0||trip.pay_method==5||trip.pay_method==10) && !(trip.payment_status == 1 || trip.payment_status == 5 ||trip.payment_status == 9|| trip.payment_status == -2 ||trip.payment_status == 3)">
      <div class="div-split-panel"  *ngIf="trip.booking_type != 'TICKET'"></div>
      <button (click)="paymentselect(trip,1)" ion-button round outline class="button btn-payment">Thanh toán</button>
    </div>
    <div class=""
      *ngIf="!(trip.isBookingVMBQT && trip.isTravelPort) &&trip.delivery_payment_date_display && !(trip.pay_method==0||trip.pay_method==5||trip.pay_method==10) && !(trip.payment_status == 1 || trip.payment_status == 5|| trip.payment_status == 9|| trip.payment_status == -2 ||trip.payment_status == 3)">
      <div class="div-split-panel"  *ngIf="trip.booking_type != 'TICKET'"></div>
      <div style="padding: 8px;" *ngIf="trip.pay_method==51||trip.pay_method==2">
        <div class="div-payment-combo-flight">
          <div class="div-payment-left">
            <div><label class="text-name" position="stacked">{{ trip.paxDisplay}}</label></div>
            <div class="div-text-fee"><label class="text-fee">Giá đã bao gồm thuế & phí dịch vụ</label></div>
          </div>
          <div class="div-price">
            <label class="total-price">
              {{gf.numberToCurrency(amount_after_tax, '.')}}đ
            </label>
          </div>
        </div>
        <div *ngIf="trip.booking_type == 'COMBO_FLIGHT' else notcomboflight">
          <label class="text-note">Quý khách thanh toán trước hạn thanh toán để đảm bảo tình trạng phòng và vé máy
            bay</label>
        </div>
        <ng-template #notcomboflight>
          <label *ngIf="trip.booking_type == 'TICKET'" class="text-note">Quý khách vui lòng thanh toán trước hạn thanh toán để đảm bảo vé vẫn còn.</label>
          <label *ngIf="trip.booking_type != 'TICKET'" class="text-note">Quý khách thanh toán trước hạn thanh toán để đảm bảo tình trạng phòng</label>
        </ng-template>
        <div  *ngIf="trip.booking_type == 'TICKET'">
          <label class="text-note">Khi quý khách nhấn nút "Thanh toán" cũng đồng nghĩa là quý khách đồng ý với các <a class="text-policy">điều kiện và chính sách</a> tthay đỗi hoặc hủy vé của iVIVU</label>
        </div>
        <div *ngIf="trip.booking_type != 'TICKET'" >
          <label class="text-note">Khi Quý khách nhấn nút “Thanh toán” cũng đồng nghĩa là Quý khách đã đồng ý với
            các <a class="text-policy">điều khoản và chính sách</a> thay đổi hoặc hủy đặt phòng.</label>
        </div>
        <div class="div-btn-payment div-mytrip">
          <button (click)="paymentselect(trip,1)" ion-button round outline class="button btn-payment">Thanh
            toán</button>
        </div>
      </div>
      <!-- Hình thức ck ngân hàng -->
      <div *ngIf="!(trip.pay_method==3||trip.pay_method==51||trip.pay_method==2)">
        <div class="div-qrcode m-top-24">
          <img class="img-qrcode" src="{{qrcodeurl}}">
        </div>
        <div class="div-btn-download m-top-16 d-flex" (click)="downloadqrcode(trip)">
          <div class="btn-download">
            <img class="img-download" src="./assets/imgs/download.svg">
          </div>
          <div class="text-download">Lưu mã để thanh toán</div>
        </div>

        <div class="d-flex-later m-top-16">
          <div class="d-img">
            <img src={{trip.urlimgbank}}>
          </div>
          <div class="div-center">
            <ion-label class="cls-text">
              {{trip.bankName}}
            </ion-label>
            <!-- <div class="mt6">
                 <ion-label (click)="openWebpage()" class="cls-textopen">
                   Mở website/ứng dụng {{trip.textbank}}
                 </ion-label>
               </div> -->
          </div>
        </div>
        <div class="div-text-payment">
          <p class="text-payment-info" text-wrap>
            Số TK: <b>{{trip.accountNumber}}</b><a class='text-copy' (click)='copyClipboard(trip.accountNumber)'>Sao
              chép</a>
          </p>
          <p class="text-payment-info">
            Người nhận: Công ty Cổ Phần IVIVU.COM<a class='text-copy'
              (click)='copyClipboard("Người nhận: Công ty Cổ Phần IVIVU.COM")'>Sao chép</a>
          </p>
          <p class="text-payment-info" text-wrap>
            Nội dung chuyển tiền: <b class="text-booking text-red">{{trip.booking_id}}</b><a class='text-copy'
              (click)='copyClipboard(trip.booking_id)'>Sao chép</a>
          </p>
          <p class="text-payment-info" text-wrap>
            Tổng tiền: <b class="text-bold">{{gf.numberToCurrency(amount_after_tax, '.')}} VND</b><a class='text-copy'
              (click)='copyClipboard(amount_after_tax)'>Sao chép</a>
          </p>
        </div>

      </div>
      <!-- payoo tại của hàng -->
      <div *ngIf="trip.pay_method==3" class="d-flex-later">
        <p class="text-payment-info" text-wrap>
          Mã thanh toán Payoo: {{trip.PaymentCode}}, số tiền: <b
            class="text-bold">{{gf.numberToCurrency(amount_after_tax, '.')}} VND</b>
        </p>
      </div>
      <div *ngIf="!(trip.pay_method==51||trip.pay_method==2)" class="mt16">
        <label class="text-other">Hoặc thanh toán bằng phương thức khác</label>
      </div>
      <div *ngIf="!(trip.pay_method==3||trip.pay_method==51||trip.pay_method==2)" class="div-btn-payment mt16">
        <button (click)="paymentselect(trip,0)" ion-button round outline class="button btn-payment">Đổi phương thức
          thanh toán</button>
      </div>
      <div *ngIf="trip.pay_method==3" class="div-btn-payment mt16">
        <button (click)="paymentselect(trip,1)" ion-button round outline class="button btn-payment">Đổi phương thức
          thanh toán</button>
      </div>
    </div>

    <!-- case hotel -->
    <div class="m-top-14" *ngIf="!trip.isRequestTrip && !trip.isFlyBooking && trip.booking_type != 'TOUR' && trip.booking_type != 'TICKET'">
      <div (click)="policy()" *ngIf="(trip.payment_status == 1 || trip.payment_status == 5)" class="d-flex m-l-8">
        <div class="text-info-2">
          Hướng dẫn nhận phòng
        </div>
        <div *ngIf="!ishdnp" class="position-absolute">
          <img src="./assets/imgs/ic_expand.svg" />
        </div>
        <div *ngIf="ishdnp" class="position-absolute">
          <img src="./assets/imgs/ic_expand_down.svg" />
        </div>
      </div>
      <!--   Hướng dẫn nhận phòng -->
      <div class="m-top-24 m-l-8" *ngIf="ishdnp">
        <div>Nhận phòng: <span class="font-weight-600">{{cin}}</span> - Trả phòng: <span
            class="font-weight-600">{{cout}}</span></div>
        <div *ngFor="let msg of trip.hotelNotes">
          <div *ngIf="msg.title=='Hướng dẫn nhận phòng'">
            <label [innerHTML]="msg.description">
            </label>
          </div>
        </div>

        <div style="margin-top: 12px;" *ngFor="let msg of HotelPolicies">
          <div>
            <label style="font-weight: bold;font-size: 14px;">
              {{msg.Key}}
            </label>
          </div>
          <div style="margin-top: 12px;">
            <label [innerHTML]="msg.PolicyDes" text-wrap>
            </label>
          </div>
        </div>

      </div>
      <div *ngIf="(trip.payment_status == 1 || trip.payment_status == 5)" class="div-panel-1px"></div>
      <div *ngIf="(trip.payment_status == 1 || trip.payment_status == 5)" class="d-flex m-l-8">
        <div class="text-info-2">
          Chính sách hủy, phụ thu phòng
        </div>
        <div *ngIf="!isptp" (click)="phuthuP()" class="position-absolute">
          <img src="./assets/imgs/ic_expand.svg" />
        </div>
        <div *ngIf="isptp" (click)="phuthuP()" class="position-absolute">
          <img src="./assets/imgs/ic_expand_down.svg" />
        </div>
      </div>
      <div *ngIf="(trip.payment_status == 1 || trip.payment_status == 5)" class="div-panel-1px"></div>
      <div class="m-top-24 m-l-8" *ngIf="isptp">
        <div>
          <label [innerHTML]="trip.off_hotel_paypolicy">
          </label>
        </div>
        <div *ngFor="let msg of trip.hotelNotes">
          <div *ngIf="msg.title=='Chính sách phụ thu'">
            <label [innerHTML]="msg.description">
            </label>
          </div>
        </div>
      </div>

      <!-- <div  *ngIf="(trip.payment_status == 1 || trip.payment_status == 5)" class="div-panel-1px"></div> -->
      <!-- <div *ngIf="(trip.payment_status == 1 || trip.payment_status == 5)" class="d-flex">
         <div class="text-info-2">
           Cẩm nang du lịch
         </div>
         <div (click)="openWebpage()" class="position-absolute">
           <img src="./assets/imgs/ic_expand.svg" />
         </div>
       </div> -->
      <!-- <div  *ngIf="(trip.payment_status == 1 || trip.payment_status == 5)" class="div-panel-1px"></div> -->
      <div class="mt16"
        *ngIf="(trip.payment_status == 1 || trip.payment_status == 5) && trip.booking_type == 'COMBO_FLIGHT'">
        <div class="div-panel-1px"></div>
        <div (click)="dkv()" class="d-flex m-l-8">
          <div class="text-info-2 font-weight-500">
            Điều kiện vé
          </div>
          <div *ngIf="!isdkv" class="position-absolute">
            <img src="./assets/imgs/ic_expand.svg" />
          </div>
          <div *ngIf="isdkv" class="position-absolute">
            <img src="./assets/imgs/ic_expand_down.svg" />
          </div>
        </div>
        <!-- điều kiện vé -->
        <div class="m-l-8" *ngIf="isdkv">
          <!-- điều kiện vé chiều đi -->
          <div class="d-flex m-top-6">
            <div class="div-width-200 d-flex">
              <div class="div-img-logo-new">
                <img class="img-logo-new" *ngIf="trip.bookingsComboData[0].airlineName.indexOf('VIETJET') != -1 "
                  src="./assets/ic_airticket/vj.png">
                <img class="img-logo-new logo_vna"
                  *ngIf="(trip.bookingsComboData[0].airlineName.indexOf('Vietnam Airlines') != -1  || trip.bookingsComboData[0].airlineName.indexOf('VIETNAM AIRLINES') != -1 ) && !trip.operatedBy "
                  src="./assets/ic_airticket/vna.png">
                <img class="img-logo-new logo_vna"
                  *ngIf="(trip.bookingsComboData[0].airlineName.indexOf('Vietnam Airlines') != -1  || trip.bookingsComboData[0].airlineName.indexOf('VIETNAM AIRLINES') != -1 ) && trip.operatedBy"
                  src="./assets/ic_airticket/vna.png">
                <img class="img-logo-new" *ngIf="trip.bookingsComboData[0].airlineName.indexOf('JETSTAR') != -1"
                  src="./assets/ic_airticket/ic_jetstar_b.png">
                <img class="img-logo-new" *ngIf="trip.bookingsComboData[0].airlineName.indexOf('BAMBOO') != -1 "
                  src="./assets/ic_airticket/bb.png">

              </div>
              <div *ngIf="trip.bookingsComboData[0].flightNumner && !trip.bookingsComboData[0].flightNumberNew"
                class="div-ticket div-overflow-ticket">{{trip.bookingsComboData[0].flightNumner }} - {{trip.bookingsComboData[0].ticketClass
                }}
              </div>
              <div *ngIf="trip.bookingsComboData[0].flightNumberNew" class="div-ticket div-overflow-ticket">
                {{trip.bookingsComboData[0].flightNumberNew }} - {{trip.bookingsComboData[0].ticketClass }}
              </div>
            </div>

          </div>

          <div class="d-flex m-l-8">
            <div class="div-gird m-top-8 witdh-50">
              <div class="text-info">
                - Hành lý xách tay: <span class="font-weight-600">{{baggageHandedDepart}}</span>
              </div>
              <div class="text-info" *ngIf="luggageSignedDepart">
                - Hành lý ký gửi: <span class="font-weight-600">{{luggageSignedDepart}}<span *ngIf="luggageSignedDepart.indexOf('kg') ==-1">kg</span></span>
              </div>
              <div class="text-info" *ngIf="!luggageSignedDepart">
                - Hành lý ký gửi: <span class="font-weight-600">0kg</span>
              </div>
            </div>
            <div class="div-gird m-top-8">

              <div class="d-flex" *ngIf="!_departTicketInfoCRM">
                <div class="div-icon"
                  *ngIf="((departConditionInfo && (!departConditionInfo.ticketCondition.ticketRefund || departConditionInfo.ticketCondition.ticketRefund.indexOf('Không') != -1)) || !departConditionInfo ) else departIconRefund">
                  <img class="img-info" src="./assets/imgs/ic_info.svg">
                </div>
                <ng-template #departIconRefund>
                  <div class="div-icon">
                    <img class="img-info" src="./assets/imgs/ic_check_mytrip.svg">
                  </div>
                </ng-template>

                <div class="text-info m-left-4"
                  *ngIf="( (departConditionInfo && (!departConditionInfo.ticketCondition.ticketRefund || departConditionInfo.ticketCondition.ticketRefund.indexOf('Không') != -1)) || !departConditionInfo ) else returnrefund">
                  Không hoàn huỷ</div>
                <ng-template #returnrefund>
                  <div class="text-info m-left-4">Hoàn hủy có phí</div>
                </ng-template>
              </div>
              <!-- Update duoi CRM -->
              <div class="d-flex" *ngIf="_departTicketInfoCRM && _departTicketInfoCRM.ticketConditions">
                <div class="div-icon" *ngIf="((_departTicketInfoCRM && (!_departTicketInfoCRM.ticketConditions.TicketRefund || _departTicketInfoCRM.ticketConditions.TicketRefund.indexOf('Không') != -1)) || !_departTicketInfoCRM ) else departIconRefund">
                    <img class="img-info" src="./assets/imgs/ic_info.svg">
                </div>
                <ng-template #departIconRefund>
                    <div class="div-icon">
                        <img class="img-info" src="./assets/imgs/ic_check_mytrip.svg">
                    </div>
                </ng-template>
        
                <div class="text-info m-left-4" *ngIf="( (_departTicketInfoCRM && (!_departTicketInfoCRM.ticketConditions.TicketRefund || _departTicketInfoCRM.ticketConditions.TicketRefund.indexOf('Không') != -1)) || !_departTicketInfoCRM ) else returnrefund">Không hoàn huỷ</div>
                <ng-template #returnrefund>
                    <div class="text-info m-left-4" >Hoàn hủy có phí</div>
                </ng-template>
              </div>

              <div class="d-flex m-top-2" *ngIf="!_departTicketInfoCRM">
                <div class="div-icon"
                  *ngIf="((departConditionInfo && departConditionInfo.ticketCondition.changeDepartTime.indexOf('Không') != -1) || !departConditionInfo ) else departIconChangeDepartTime">
                  <img src="./assets/imgs/ic_info.svg">
                </div>
                <ng-template #departIconChangeDepartTime>
                  <div class="div-icon">
                    <img class="img-info" src="./assets/imgs/ic_check_mytrip.svg">
                  </div>
                </ng-template>
                <div class="text-info m-left-4"
                  *ngIf="((departConditionInfo && departConditionInfo.ticketCondition.changeDepartTime.indexOf('Không') != -1 ) || !departConditionInfo ) else departChangeDepartTime">
                  Không đổi lịch bay</div>
                <ng-template #departChangeDepartTime>
                  <div class="text-info m-left-4">Đổi lịch bay có phí</div>
                </ng-template>
              </div>
              <!-- Update duoi CRM -->
              <div class="d-flex m-top-2" *ngIf="_departTicketInfoCRM && _departTicketInfoCRM.ticketConditions">
                <div class="div-icon" *ngIf="((_departTicketInfoCRM && _departTicketInfoCRM.ticketConditions.ChangeDepartTime.indexOf('Không') != -1) || !_departTicketInfoCRM ) else departIconChangeDepartTime">
                    <img src="./assets/imgs/ic_info.svg">
                </div>
                <ng-template #departIconChangeDepartTime>
                    <div class="div-icon">
                        <img class="img-info" src="./assets/imgs/ic_check_mytrip.svg">
                    </div>
                </ng-template>
                <div class="text-info m-left-4" *ngIf="((_departTicketInfoCRM && _departTicketInfoCRM.ticketConditions.ChangeDepartTime.indexOf('Không') != -1 ) || !_departTicketInfoCRM ) else departChangeDepartTime">Không đổi lịch bay</div>
                <ng-template #departChangeDepartTime>
                    <div class="text-info m-left-4" >Đổi lịch bay có phí</div>
                </ng-template>
              </div>

            </div>
          </div>
          <!-- điều kiện vé chiều về nếu có-->
          <div class="d-flex m-top-6 m-l-8">
            <div class="div-width-200 d-flex">
              <div class="div-img-logo-new">
                <img class="img-logo-new" *ngIf="trip.bookingsComboData[1].airlineName.indexOf('VIETJET') != -1 "
                  src="./assets/ic_airticket/vj.png">
                <img class="img-logo-new logo_vna"
                  *ngIf="(trip.bookingsComboData[1].airlineName.indexOf('Vietnam Airlines') != -1  || trip.bookingsComboData[1].airlineName.indexOf('VIETNAM AIRLINES') != -1 ) && !trip.operatedBy "
                  src="./assets/ic_airticket/vna.png">
                <img class="img-logo-new logo_vna"
                  *ngIf="(trip.bookingsComboData[1].airlineName.indexOf('Vietnam Airlines') != -1  || trip.bookingsComboData[1].airlineName.indexOf('VIETNAM AIRLINES') != -1 ) && trip.operatedBy"
                  src="./assets/ic_airticket/vna.png">
                <img class="img-logo-new" *ngIf="trip.bookingsComboData[1].airlineName.indexOf('JETSTAR') != -1"
                  src="./assets/ic_airticket/ic_jetstar_b.png">
                <img class="img-logo-new" *ngIf="trip.bookingsComboData[1].airlineName.indexOf('BAMBOO') != -1 "
                  src="./assets/ic_airticket/bb.png">

              </div>
              <div *ngIf="trip.bookingsComboData[1].flightNumner && !trip.bookingsComboData[1].flightNumberNew"
                class="div-ticket div-overflow-ticket">{{trip.bookingsComboData[1].flightNumner }} - {{trip.bookingsComboData[1].ticketClass
                }}
              </div>
              <div *ngIf="trip.bookingsComboData[1].flightNumberNew" class="div-ticket div-overflow-ticket">
                {{trip.bookingsComboData[1].flightNumberNew }} - {{trip.bookingsComboData[1].ticketClass }}
              </div>
            </div>

          </div>

          <div *ngIf="returnConditionInfo" class="d-flex m-l-8">
            <div class="div-gird m-top-8 witdh-50">
              <div class="text-info">
                - Hành lý xách tay: <span class="font-weight-600">{{baggageHandedReturn}}</span>
              </div>
              <div class="text-info" *ngIf="luggageSignedReturn">
                - Hành lý ký gửi: <span class="font-weight-600">{{luggageSignedReturn}}<span *ngIf="luggageSignedReturn.indexOf('kg') ==-1">kg</span></span>
              </div>
              <div class="text-info" *ngIf="!luggageSignedReturn">
                - Hành lý ký gửi: <span class="font-weight-600">0kg</span>
              </div>
            </div>
            <div class="div-gird m-top-8">

              <div class="d-flex" *ngIf="!_returnTicketInfoCRM">
                <div class="div-icon"
                  *ngIf="((returnConditionInfo && (!returnConditionInfo.ticketCondition.ticketRefund || returnConditionInfo.ticketCondition.ticketRefund.indexOf('Không') != -1)) || !returnConditionInfo ) else departIconRefund">
                  <img class="img-info" src="./assets/imgs/ic_info.svg">
                </div>
                <ng-template #departIconRefund>
                  <div class="div-icon">
                    <img class="img-info" src="./assets/imgs/ic_check_mytrip.svg">
                  </div>
                </ng-template>

                <div class="text-info m-left-4"
                  *ngIf="( (returnConditionInfo && (!returnConditionInfo.ticketCondition.ticketRefund || returnConditionInfo.ticketCondition.ticketRefund.indexOf('Không') != -1)) || !returnConditionInfo ) else returnrefund">
                  Không hoàn huỷ</div>
                <ng-template #returnrefund>
                  <div class="text-info m-left-4">Hoàn hủy có phí</div>
                </ng-template>
              </div>
              <!-- update duoi CRM -->
              <div class="d-flex" *ngIf="_returnTicketInfoCRM && _returnTicketInfoCRM.ticketConditions">
                <div class="div-icon" *ngIf="((_returnTicketInfoCRM && (!_returnTicketInfoCRM.ticketConditions.TicketRefund || _returnTicketInfoCRM.ticketConditions.TicketRefund.indexOf('Không') != -1)) || !_returnTicketInfoCRM ) else departIconRefund">
                    <img class="img-info" src="./assets/imgs/ic_info.svg">
                </div>
                <ng-template #departIconRefund>
                    <div class="div-icon">
                        <img class="img-info" src="./assets/imgs/ic_check_mytrip.svg">
                    </div>
                </ng-template>

                <div class="text-info m-left-4" *ngIf="( (_returnTicketInfoCRM && (!_returnTicketInfoCRM.ticketConditions.TicketRefund || _returnTicketInfoCRM.ticketConditions.TicketRefund.indexOf('Không') != -1)) || !_returnTicketInfoCRM ) else returnrefund">Không hoàn huỷ</div>
                <ng-template #returnrefund>
                    <div class="text-info m-left-4" >Hoàn hủy có phí</div>
                </ng-template>
              </div>
              <div class="d-flex m-top-2" *ngIf="!_returnTicketInfoCRM">
                <div class="div-icon"
                  *ngIf="((returnConditionInfo && returnConditionInfo.ticketCondition.changeDepartTime.indexOf('Không') != -1) || !returnConditionInfo ) else returnIconChangeDepartTime">
                  <img src="./assets/imgs/ic_info.svg">
                </div>
                <ng-template #returnIconChangeDepartTime>
                  <div class="div-icon">
                    <img class="img-info" src="./assets/imgs/ic_check_mytrip.svg">
                  </div>
                </ng-template>
                <div class="text-info m-left-4 "
                  *ngIf="((returnConditionInfo && returnConditionInfo.ticketCondition.changeDepartTime.indexOf('Không') != -1 ) || !returnConditionInfo ) else returnChangeDepartTime">
                  Không đổi lịch bay</div>
                <ng-template #returnChangeDepartTime>
                  <div class="text-info m-left-4">Đổi lịch bay có phí</div>
                </ng-template>
              </div>
               <!-- update duoi CRM -->
               <div class="d-flex m-top-2" *ngIf="_returnTicketInfoCRM && _returnTicketInfoCRM.ticketConditions">
                  <div class="div-icon" *ngIf="((_returnTicketInfoCRM && _returnTicketInfoCRM.ticketConditions.ChangeDepartTime.indexOf('Không') != -1) || !_returnTicketInfoCRM ) else returnIconChangeDepartTime">
                      <img src="./assets/imgs/ic_info.svg">
                  </div>
                  <ng-template #returnIconChangeDepartTime>
                      <div class="div-icon">
                          <img class="img-info" src="./assets/imgs/ic_check_mytrip.svg">
                      </div>
                  </ng-template>
                  <div class="text-info m-left-4 " *ngIf="((_returnTicketInfoCRM && _returnTicketInfoCRM.ticketConditions.ChangeDepartTime.indexOf('Không') != -1 ) || !_returnTicketInfoCRM ) else returnChangeDepartTime">Không đổi lịch bay</div>
                  <ng-template #returnChangeDepartTime>
                      <div class="text-info m-left-4" >Đổi lịch bay có phí</div>
                  </ng-template>
                </div>

            </div>

          </div>
        </div>
        <div class="div-panel-1px"></div>
        <div *ngIf="trip.booking_type != 'COMBO_FLIGHT' && trip.booking_type != 'COMBO_VXR'" (click)="policy()"
          class="d-flex m-l-8">
          <div class="text-info-2">
            Hướng dẫn nhận phòng
          </div>
          <div *ngIf="!ishdnp" class="position-absolute">
            <img src="./assets/imgs/ic_expand.svg" />
          </div>
          <div *ngIf="ishdnp" class="position-absolute">
            <img src="./assets/imgs/ic_expand_down.svg" />
          </div>
        </div>
        <!--   Hướng dẫn nhận phòng -->
        <div class="m-top-24 m-l-8"
          *ngIf="ishdnp && trip.booking_type != 'COMBO_FLIGHT' && trip.booking_type != 'COMBO_VXR'">
          <div>Nhận phòng: <span class="font-weight-600">{{cin}}</span> - Trả phòng: <span
              class="font-weight-600">{{cout}}</span></div>
          <div *ngFor="let msg of trip.hotelNotes">
            <div *ngIf="msg.title=='Hướng dẫn nhận phòng'">
              <label [innerHTML]="msg.description">
              </label>
            </div>
          </div>
        </div>
        <div *ngIf="trip.booking_type != 'COMBO_FLIGHT' && trip.booking_type != 'COMBO_VXR'" class="div-panel-1px">
        </div>
        <div (click)="info()" class="d-flex m-l-8">
          <div class="text-info-2">
            Các thông tin thêm
          </div>
          <div *ngIf="!isttt" class="position-absolute">
            <img src="./assets/imgs/ic_expand.svg" />
          </div>
          <div *ngIf="isttt" class="position-absolute">
            <img src="./assets/imgs/ic_expand_down.svg" />
          </div>
        </div>
        <div (click)="openWebpage()" class="mt22 m-l-8" *ngIf="isttt">
          <div class="text-link">
            <u>Hướng dẫn thủ tục hàng không</u>
          </div>
          <div class="text-link mt22">
            <u>Cẩm nang du lịch</u>
          </div>
        </div>
        <!-- <div  class="div-panel-1px"></div> -->
      </div>
    </div>
    <!-- case VMB -->
    <div class="mt16  m-l-8" *ngIf="!trip.isRequestTrip && trip.isFlyBooking && !(trip.isBookingVMBQT && trip.isTravelPort)">
      <div (click)="dkv()" class="d-flex">
        <div class="text-info-2 font-weight-500">
          Điều kiện vé
        </div>
        <div *ngIf="!isdkv" class="position-absolute">
          <img src="./assets/imgs/ic_expand.svg" />
        </div>
        <div *ngIf="isdkv" class="position-absolute">
          <img src="./assets/imgs/ic_expand_down.svg" />
        </div>
      </div>
      <!-- điều kiện vé -->
      <div *ngIf="isdkv">
        <!-- điều kiện vé chiều đi -->
        <div class="d-flex m-top-6">
          <div class="div-width-200 d-flex">
            <div class="div-img-logo-new">
              <img class="img-logo-new" *ngIf="trip.itemdepart.airlineName.indexOf('VIETJET') != -1 "
                src="./assets/ic_airticket/vj.png">
              <img class="img-logo-new logo_vna"
                *ngIf="(trip.itemdepart.airlineName.indexOf('Vietnam Airlines') != -1  || trip.itemdepart.airlineName.indexOf('VIETNAM AIRLINES') != -1 ) && !trip.operatedBy "
                src="./assets/ic_airticket/vna.png">
              <img class="img-logo-new logo_vna"
                *ngIf="(trip.itemdepart.airlineName.indexOf('Vietnam Airlines') != -1  || trip.itemdepart.airlineName.indexOf('VIETNAM AIRLINES') != -1 ) && trip.operatedBy"
                src="./assets/ic_airticket/vna.png">
              <img class="img-logo-new" *ngIf="trip.itemdepart.airlineName.indexOf('JETSTAR') != -1"
                src="./assets/ic_airticket/ic_jetstar_b.png">
              <img class="img-logo-new" *ngIf="trip.itemdepart.airlineName.indexOf('BAMBOO') != -1 "
                src="./assets/ic_airticket/bb.png">

            </div>
            <div *ngIf="trip.itemdepart.flightNumner && !trip.itemdepart.flightNumberNew" class="div-ticket div-overflow-ticket">
              {{trip.itemdepart.flightNumner }} - {{trip.itemdepart.ticketClass }}</div>
            <div *ngIf="trip.itemdepart.flightNumberNew" class="div-ticket div-overflow-ticket">{{trip.itemdepart.flightNumberNew }} -
              {{trip.itemdepart.ticketClass }}
            </div>
          </div>

        </div>

        <div class="d-flex">
          <div class="div-gird m-top-8 witdh-50">
            <div class="text-info">
              - Hành lý xách tay: <span class="font-weight-600">{{baggageHandedDepart}}</span>
            </div>
            <div class="text-info" *ngIf="luggageSignedDepart">
              - Hành lý ký gửi: <span class="font-weight-600">{{luggageSignedDepart}}<span *ngIf="luggageSignedDepart.indexOf('kg') ==-1">kg</span></span>
            </div>
            <div class="text-info" *ngIf="!luggageSignedDepart">
              - Hành lý ký gửi: <span class="font-weight-600">0kg</span>
            </div>
          </div>
          <div class="div-gird m-top-8">

            <div class="d-flex" *ngIf="!_departTicketInfoCRM">
              <div class="div-icon"
                *ngIf="((departConditionInfo && (!departConditionInfo.ticketCondition.ticketRefund || departConditionInfo.ticketCondition.ticketRefund.indexOf('Không') != -1)) || !departConditionInfo ) else departIconRefund">
                <img class="img-info" src="./assets/imgs/ic_info.svg">
              </div>
              <ng-template #departIconRefund>
                <div class="div-icon">
                  <img class="img-info" src="./assets/imgs/ic_check_mytrip.svg">
                </div>
              </ng-template>

              <div class="text-info m-left-4"
                *ngIf="( (departConditionInfo && (!departConditionInfo.ticketCondition.ticketRefund || departConditionInfo.ticketCondition.ticketRefund.indexOf('Không') != -1)) || !departConditionInfo ) else returnrefund">
                Không hoàn huỷ</div>
              <ng-template #returnrefund>
                <div class="text-info m-left-4">Hoàn hủy có phí</div>
              </ng-template>
            </div>
            <!-- Update duoi CRM -->
            <div class="d-flex" *ngIf="_departTicketInfoCRM && _departTicketInfoCRM.ticketConditions">
              <div class="div-icon" *ngIf="((_departTicketInfoCRM && (!_departTicketInfoCRM.ticketConditions.TicketRefund || _departTicketInfoCRM.ticketConditions.TicketRefund.indexOf('Không') != -1)) || !_departTicketInfoCRM ) else departIconRefund">
                  <img class="img-info" src="./assets/imgs/ic_info.svg">
              </div>
              <ng-template #departIconRefund>
                  <div class="div-icon">
                      <img class="img-info" src="./assets/imgs/ic_check_mytrip.svg">
                  </div>
              </ng-template>
      
              <div class="text-info m-left-4" *ngIf="( (_departTicketInfoCRM && (!_departTicketInfoCRM.ticketConditions.TicketRefund || _departTicketInfoCRM.ticketConditions.TicketRefund.indexOf('Không') != -1)) || !_departTicketInfoCRM ) else returnrefund">Không hoàn huỷ</div>
              <ng-template #returnrefund>
                  <div class="text-info m-left-4" >Hoàn hủy có phí</div>
              </ng-template>
            </div>
            <div class="d-flex m-top-2" *ngIf="!_departTicketInfoCRM">
              <div class="div-icon"
                *ngIf="((departConditionInfo && departConditionInfo.ticketCondition.changeDepartTime.indexOf('Không') != -1) || !departConditionInfo ) else departIconChangeDepartTime">
                <img src="./assets/imgs/ic_info.svg">
              </div>
              <ng-template #departIconChangeDepartTime>
                <div class="div-icon">
                  <img class="img-info" src="./assets/imgs/ic_check_mytrip.svg">
                </div>
              </ng-template>
              <div class="text-info m-left-4"
                *ngIf="((departConditionInfo && departConditionInfo.ticketCondition.changeDepartTime.indexOf('Không') != -1 ) || !departConditionInfo ) else departChangeDepartTime">
                Không đổi lịch bay</div>
              <ng-template #departChangeDepartTime>
                <div class="text-info m-left-4">Đổi lịch bay có phí</div>
              </ng-template>
            </div>
             <!-- Update duoi CRM -->
             <div class="d-flex m-top-2" *ngIf="_departTicketInfoCRM && _departTicketInfoCRM.ticketConditions">
              <div class="div-icon" *ngIf="((_departTicketInfoCRM && _departTicketInfoCRM.ticketConditions.ChangeDepartTime.indexOf('Không') != -1) || !_departTicketInfoCRM ) else departIconChangeDepartTime">
                  <img src="./assets/imgs/ic_info.svg">
              </div>
              <ng-template #departIconChangeDepartTime>
                  <div class="div-icon">
                      <img class="img-info" src="./assets/imgs/ic_check_mytrip.svg">
                  </div>
              </ng-template>
              <div class="text-info m-left-4" *ngIf="((_departTicketInfoCRM && _departTicketInfoCRM.ticketConditions.ChangeDepartTime.indexOf('Không') != -1 ) || !_departTicketInfoCRM ) else departChangeDepartTime">Không đổi lịch bay</div>
              <ng-template #departChangeDepartTime>
                  <div class="text-info m-left-4" >Đổi lịch bay có phí</div>
              </ng-template>
            </div>

          </div>
        </div>
        <!-- điều kiện vé chiều về nếu có-->
        <div class="d-flex m-top-6" *ngIf="trip && trip.itemreturn">
          <div class="div-width-200 d-flex">
            <div class="div-img-logo-new">
              <img class="img-logo-new" *ngIf="trip.itemreturn.airlineName.indexOf('VIETJET') != -1 "
                src="./assets/ic_airticket/vj.png">
              <img class="img-logo-new logo_vna"
                *ngIf="(trip.itemreturn.airlineName.indexOf('Vietnam Airlines') != -1  || trip.itemreturn.airlineName.indexOf('VIETNAM AIRLINES') != -1 ) && !trip.operatedBy "
                src="./assets/ic_airticket/vna.png">
              <img class="img-logo-new logo_vna"
                *ngIf="(trip.itemreturn.airlineName.indexOf('Vietnam Airlines') != -1  || trip.itemreturn.airlineName.indexOf('VIETNAM AIRLINES') != -1 ) && trip.operatedBy"
                src="./assets/ic_airticket/vna.png">
              <img class="img-logo-new" *ngIf="trip.itemreturn.airlineName.indexOf('JETSTAR') != -1"
                src="./assets/ic_airticket/ic_jetstar_b.png">
              <img class="img-logo-new" *ngIf="trip.itemreturn.airlineName.indexOf('BAMBOO') != -1 "
                src="./assets/ic_airticket/bb.png">

            </div>
            <div *ngIf="trip.itemreturn.flightNumner  && !trip.itemreturn.flightNumberNew" class="div-ticket div-overflow-ticket">
              {{trip.itemreturn.flightNumner }} - {{trip.itemreturn.ticketClass }}</div>
            <div *ngIf="trip.itemreturn.flightNumberNew" class="div-ticket div-overflow-ticket">{{trip.itemreturn.flightNumberNew }} -
              {{trip.itemreturn.ticketClass }}
            </div>
          </div>

        </div>

        <div *ngIf="returnConditionInfo" class="d-flex">
          <div class="div-gird m-top-8 witdh-50">
            <div class="text-info">
              - Hành lý xách tay: <span class="font-weight-600">{{baggageHandedReturn}}</span>
            </div>
            <div class="text-info" *ngIf="luggageSignedReturn">
              - Hành lý ký gửi: <span class="font-weight-600">{{luggageSignedReturn}}<span *ngIf="luggageSignedReturn.indexOf('kg') ==-1">kg</span></span>
            </div>
            <div class="text-info" *ngIf="!luggageSignedReturn">
              - Hành lý ký gửi: <span class="font-weight-600">0kg</span>
            </div>
          </div>
          <div class="div-gird m-top-8">

            <div class="d-flex" *ngIf="!_returnTicketInfoCRM">
              <div class="div-icon"
                *ngIf="((returnConditionInfo && (!returnConditionInfo.ticketCondition.ticketRefund || returnConditionInfo.ticketCondition.ticketRefund.indexOf('Không') != -1)) || !returnConditionInfo ) else departIconRefund">
                <img class="img-info" src="./assets/imgs/ic_info.svg">
              </div>
              <ng-template #departIconRefund>
                <div class="div-icon">
                  <img class="img-info" src="./assets/imgs/ic_check_mytrip.svg">
                </div>
              </ng-template>

              <div class="text-info m-left-4"
                *ngIf="( (returnConditionInfo && (!returnConditionInfo.ticketCondition.ticketRefund || returnConditionInfo.ticketCondition.ticketRefund.indexOf('Không') != -1)) || !returnConditionInfo ) else returnrefund">
                Không hoàn huỷ</div>
              <ng-template #returnrefund>
                <div class="text-info m-left-4">Hoàn hủy có phí</div>
              </ng-template>
            </div>
            <!-- update duoi CRM -->
            <div class="d-flex" *ngIf="_returnTicketInfoCRM && _returnTicketInfoCRM.ticketConditions">
              <div class="div-icon" *ngIf="((_returnTicketInfoCRM && (!_returnTicketInfoCRM.ticketConditions.TicketRefund || _returnTicketInfoCRM.ticketConditions.TicketRefund.indexOf('Không') != -1)) || !_returnTicketInfoCRM ) else departIconRefund">
                  <img class="img-info" src="./assets/imgs/ic_info.svg">
              </div>
              <ng-template #departIconRefund>
                  <div class="div-icon">
                      <img class="img-info" src="./assets/imgs/ic_check_mytrip.svg">
                  </div>
              </ng-template>
      
              <div class="text-info m-left-4" *ngIf="( (_returnTicketInfoCRM && (!_returnTicketInfoCRM.ticketConditions.TicketRefund || _returnTicketInfoCRM.ticketConditions.TicketRefund.indexOf('Không') != -1)) || !_returnTicketInfoCRM ) else returnrefund">Không hoàn huỷ</div>
              <ng-template #returnrefund>
                  <div class="text-info m-left-4" >Hoàn hủy có phí</div>
              </ng-template>
            </div>
            
            <div class="d-flex m-top-2">
              <div class="div-icon"
                *ngIf="((returnConditionInfo && returnConditionInfo.ticketCondition.changeDepartTime.indexOf('Không') != -1) || !returnConditionInfo ) else returnIconChangeDepartTime">
                <img src="./assets/imgs/ic_info.svg">
              </div>
              <ng-template #returnIconChangeDepartTime>
                <div class="div-icon">
                  <img class="img-info" src="./assets/imgs/ic_check_mytrip.svg">
                </div>
              </ng-template>
              <div class="text-info m-left-4 "
                *ngIf="((returnConditionInfo && returnConditionInfo.ticketCondition.changeDepartTime.indexOf('Không') != -1 ) || !returnConditionInfo ) else returnChangeDepartTime">
                Không đổi lịch bay</div>
              <ng-template #returnChangeDepartTime>
                <div class="text-info m-left-4">Đổi lịch bay có phí</div>
              </ng-template>
            </div>
          </div>

        </div>
      </div>
      <div class="div-panel-1px"></div>
      <div (click)="openWebpage()" class="d-flex">
        <div class="text-info-2 font-weight-500">
          Hướng dẫn thủ tục hàng không
        </div>
        <div class="position-absolute">
          <img src="./assets/imgs/ic_expand.svg" />
        </div>
      </div>

    </div>
    <div *ngIf="trip.booking_type != 'TOUR' && !(trip.isBookingVMBQT && trip.isTravelPort) && trip.booking_type != 'TICKET'" class="div-panel-1px"></div>
    <div *ngIf="trip.booking_type != 'TOUR' && !(trip.isBookingVMBQT && trip.isTravelPort) && trip.booking_type != 'TICKET'" (click)="nextSupport(trip)" class="d-flex m-l-8">

      <div class="text-info-2 font-weight-500 p-bottom-24">
        Liên hệ hỗ trợ
      </div>
      <div *ngIf="trip.booking_type != 'TICKET'" class="position-absolute">
        <img src="./assets/imgs/ic_expand.svg" />
      </div>
    </div>
    <div *ngIf="!trip.hadCheckinOnline && trip.bookingjson && !trip.isBookingVMBQT && (trip.payment_status == 1 || trip.payment_status == 5)"  class="div-panel-1px"></div>
    <div *ngIf="!trip.hadCheckinOnline && trip.bookingjson && (trip.payment_status == 1 || trip.payment_status == 5)"  class="d-flex div-checkin-online-detail padding-bottom-20">
     
      <div class="div-text-checkin-online font-weight-500">Yêu cầu Checkin-Online</div>
      <div class="cls-toggle"><ion-toggle [disabled]="trip.bookingjson[0].RequestCheckin==1 || trip.ischeckinOnl" (ionChange)="checkinOnline(trip)" [checked]="trip.bookingjson[0].RequestCheckin==1"></ion-toggle></div>
    </div>
    <div *ngIf=" trip.bookingjson && (trip.payment_status == 1 || trip.payment_status == 5) "  class="text-note margin-16-detail padding-bottom-20">
      {{trip.textCheckinOnline}}
  </div>
    <div *ngIf="trip.isFlyBooking && trip.hadCheckinOnline" class="div-panel-1px"></div>
    <div *ngIf="trip.isFlyBooking && trip.hadCheckinOnline"
      class="m-l-8 padding-bottom-20 div-checkin-online padding-0">
      <div class="d-flex">
        <div class="div-icon-check">
          <img class="img-check" src="./assets/ic_mytripbooking/check.svg">
        </div>
        <div class="div-text-checkin">Đã có thẻ lên máy bay (Boarding Pass)</div>
      </div>

      <!-- <div class="div-icon-arrow">
                            <img  class="img-arrow"  src="./assets/ic_mytripbooking/ico_arrow.svg">
                          </div> -->
      <div class="text-title-broading m-top-12"
        *ngIf="trip.hadCheckinOnlineDepart">
        Chiều đi
      </div>
      <div *ngFor="let pass of trip.bookingjson[0].Passengers; let idx = index">
        <div class="d-flex align-items-end m-top-12"  *ngIf="pass.CheckinInfo && pass.CheckinInfo.indexOf('http') != -1">
        
          <label class="witdh-204" (click)="openWebpage()">{{pass.Gender}}. <span
              class="div-name">{{pass.Name}}</span> </label>
          <img (click)="downloadimg(pass,trip)" src="./assets/ic_mytripbooking/download.svg">
          <img (click)="share(pass)" class="m-left-8px" src="./assets/ic_mytripbooking/share.svg">
        </div>
      </div>
      <div class="text-title-broading m-top-12"
      *ngIf="trip.hadCheckinOnlineReturn">
        Chiều về
      </div>

      <div  *ngIf="trip.hadCheckinOnlineReturn">
        <div *ngFor="let pass of trip.bookingjson[1].Passengers; let idx = index">
          <div class="d-flex  align-items-end m-top-12"  *ngIf="pass.CheckinInfo && pass.CheckinInfo.indexOf('http') != -1">
       
            <label class="witdh-204" (click)="openWebpage()">{{pass.Gender}}. <span
                class="div-name">{{pass.Name}}</span> </label>
            <img (click)="downloadimg(pass,trip)" src="./assets/ic_mytripbooking/download.svg">
            <img (click)="share(pass)" class="m-left-8px" src="./assets/ic_mytripbooking/share.svg">
          </div>
        </div>
      </div>
    </div>
  </div>
</ion-content>